<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- $Header: 00001_sqld360_323688_17vjd1aast5q7_index v192 (2019-03-23) mauro.pagano $ -->
<!-- Copyright (c) 2015, All rights reserved. -->
<!-- Author: mauro.pagano@gmail.com -->

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="icon" href="SQLd360_favicon.ico">
<title>Triggers</title>

<style type="text/css">
body             {font:10pt Arial,Helvetica,Geneva,sans-serif; color:black; background:white;}
h1               {font-size:16pt; font-weight:bold; color:#336699; border-bottom:1px solid #336699; margin-top:0pt; margin-bottom:0pt; padding:0px 0px 0px 0px;}
h2               {font-size:14pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
h3               {font-size:12pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
pre              {font:8pt monospace,Monaco,"Courier New",Courier;}
a                {color:#663300;}
table            {font-size:8pt; border-collapse:collapse; empty-cells:show; white-space:nowrap; border:1px solid #336699;}
li               {font-size:8pt; color:black; padding-left:4px; padding-right:4px; padding-bottom:2px;}
th               {font-weight:bold; color:white; background:#0066CC; padding-left:4px; padding-right:4px; padding-bottom:2px;}
tr               {color:black; background:#ffffff;}
tr.main          {color:black; background:#ffffff;}
tr.main:hover    {color:black; background:#ffffff;}
td               {vertical-align:top; border:1px solid #336699;}
td.c             {text-align:center;}
tr:hover         {background:#0066CC; color:white;}
font.n           {font-size:8pt; font-style:italic; color:#336699;}
font.f           {font-size:8pt; color:#999999; border-top:1px solid #336699; margin-top:30pt;}
div.google-chart {width:809px; height:500px;}
</style>

<script src="sorttable.js"></script>

<!-- 00819_sqld360_323688_17vjd1aast5q7_3a_89_triggers.html $ -->
</head>
<body>
<h1> <a href="http://mauro-pagano.com/2015/02/16/sqld360-sql-diagnostics-collection-made-faster/" target="_blank"><img src="SQLd360_img.jpg" alt="SQLd360" height="33" width="52"></a> 3a.89. Triggers <em>(DBA_TRIGGERS)</em>  </h1>

<br>



<p>
<table class=sortable>
<tr>
<th scope="col">
#
</th>
<th scope="col">
OWNER
</th>
<th scope="col">
TRIGGER_NAME
</th>
<th scope="col">
TRIGGER_TYPE
</th>
<th scope="col">
TRIGGERING_EVENT
</th>
<th scope="col">
TABLE_OWNER
</th>
<th scope="col">
BASE_OBJECT_TYPE
</th>
<th scope="col">
TABLE_NAME
</th>
<th scope="col">
COLUMN_NAME
</th>
<th scope="col">
REFERENCING_NAMES
</th>
<th scope="col">
WHEN_CLAUSE
</th>
<th scope="col">
STATUS
</th>
<th scope="col">
DESCRIPTION
</th>
<th scope="col">
ACTION_TYPE
</th>
<th scope="col">
TRIGGER_BODY
</th>
<th scope="col">
CROSSED
</th>
<th scope="col">
BEF
</th>
<th scope="col">
BEF
</th>
<th scope="col">
AFT
</th>
<th scope="col">
AFT
</th>
<th scope="col">
INS
</th>
<th scope="col">
FIR
</th>
<th scope="col">
APP
</th>
</tr>
<tr>
<td>
1
</td>
<td>
THH_C4C
</td>
<td>
TRG_PERF_AUDITINSERT
</td>
<td>
BEFORE EACH ROW
</td>
<td>
INSERT
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_PRMR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
&quot;THH_C4C&quot;.&quot;TRG_PERF_AUDITINSERT&quot; BEFORE INSERT ON T_PRMR FOR EACH ROW

</td>
<td>
PL/SQL
</td>
<td>
DECLARE
  /* save current date */
  curr_date DATE;
BEGIN 
  curr_date := current_date;

  IF :new.perf_crtd IS NULL THEN 
    :new.perf_crtd := curr_date; 
  END IF; 

  IF :new.perf_las_act_tim IS NULL THEN 
    :new.perf_las_act_tim := curr_date; 
  END IF; 

  IF :new.perf_las_act IS NULL THEN 
    :new.perf_las_act := 1; 
  END IF; 

  IF :new.perf_obj_stt IS NULL THEN 
    :new.perf_obj_stt := 1; 
  END IF; 

  IF :new.perf_vers IS NULL THEN 
    :new.perf_vers := 0; 
  END IF; 

  IF :new.perf_vsbt IS NULL THEN 
    :new.perf_vsbt := 1001; 
  END IF; 

  IF :new.perf_las_act_by IS NULL THEN 
    :new.perf_las_act_by := 1; 
  END IF; 

  IF :new.perf_origcrtr IS NULL THEN 
    :new.perf_origcrtr := 1; 
  END IF; 

  IF :new.perf_origcrtrlogdin IS NULL THEN 
    :new.perf_origcrtrlogdin := 1; 
  END IF; 

  IF :new.perf_las_act_by_logdin IS NULL THEN 
    :new.perf_las_act_by_logdin := 1; 
  END IF; 

  INSERT INTO a_prmr 
  ( 
   perf_vers, 
   perf_vsbt, 
   perf_dltddt, 
   perf_las_act_by, 
   perf_origcrtr, 
   perf_origcrtrlogdin, 
   perf_las_act_by_logdin, 
   perf_univid, 
   perf_prmrrole, 
   perf_can_be_rand, 
   perf_sbtnrole, 
   perf_stt, 
   perf_sttdby, 
   perf_usr, 
   classtype, 
   perf_c4c_id, 
   perf_crtd, 
   perf_las_act, 
   perf_las_act_actrtyp, 
   perf_obj_stt, 
   perf_id, 
   valid_from, 
   valid_to , 
   perf_audid, 
   perf_prev_audid, 
   perf_next_audid
  ) 
  VALUES 
  ( 
   :new.perf_vers,
   :new.perf_vsbt,
   :new.perf_dltddt,
   :new.perf_las_act_by,
   :new.perf_origcrtr,
   :new.perf_origcrtrlogdin,
   :new.perf_las_act_by_logdin,
   :new.perf_univid,
   :new.perf_prmrrole,
   :new.perf_can_be_rand,
   :new.perf_sbtnrole,
   :new.perf_stt,
   :new.perf_sttdby,
   :new.perf_usr,
   :new.classtype,
   :new.perf_c4c_id,
   :new.perf_crtd,
   :new.perf_las_act,
   :new.perf_las_act_actrtyp,
   :new.perf_obj_stt, 
   :new.perf_id, 
   :new.perf_las_act_tim, 
   NULL, 
   u_prmr.NEXTVAL, 
   NULL, 
   NULL
  );
END;








&nbsp;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
2
</td>
<td>
THH_C4C
</td>
<td>
TRG_PERF_AUDITUPDATE
</td>
<td>
BEFORE EACH ROW
</td>
<td>
UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_PRMR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_perf_auditupdate BEFORE
  UPDATE
    ON T_PRMR FOR EACH ROW
</td>
<td>
PL/SQL
</td>
<td>
DECLARE
    /* last audit ID of record */
    last_audid NUMBER;
  BEGIN
    /* retrieve last audit ID of record */
    BEGIN
      SELECT
        perf_audid
      INTO
        last_audid
      FROM
        a_prmr
      WHERE
        perf_id            = :old.perf_id
      AND perf_next_audid IS NULL
      AND rownum           &lt; 2 FOR UPDATE;
    EXCEPTION
    WHEN NO_DATA_FOUND THEN
      last_audid := NULL;
    END;
    /* LastActionTime has not changed - no new transaction */
    IF :old.perf_las_act_tim = :new.perf_las_act_tim THEN
      UPDATE
        a_prmr
      SET
        perf_prmrrole          = :new.perf_prmrrole,
        perf_can_be_rand       = :new.perf_can_be_rand,
        perf_sbtnrole          = :new.perf_sbtnrole,
        perf_stt               = :new.perf_stt,
        perf_sttdby            = :new.perf_sttdby,
        perf_usr               = :new.perf_usr,
        classtype              = :new.classtype,
        perf_c4c_id            = :new.perf_c4c_id,
        perf_crtd              = :new.perf_crtd,
        perf_las_act           = :new.perf_las_act,
        perf_las_act_actrtyp   = :new.perf_las_act_actrtyp,
        perf_obj_stt           = :new.perf_obj_stt,
        perf_vers              = :new.perf_vers,
        perf_vsbt              = :new.perf_vsbt,
        perf_dltddt            = :new.perf_dltddt,
        perf_las_act_by        = :new.perf_las_act_by,
        perf_origcrtr          = :new.perf_origcrtr,
        perf_origcrtrlogdin    = :new.perf_origcrtrlogdin,
        perf_las_act_by_logdin = :new.perf_las_act_by_logdin,
        perf_univid            = :new.perf_univid
      WHERE
        perf_audid = last_audid;
      /* LastActionTime has changed - new transaction in place */
    ELSE
      /* insert new values introduced by new transaction */
      INSERT
      INTO
        a_prmr
        (
          perf_prmrrole,
          perf_can_be_rand,
          perf_sbtnrole,
          perf_stt,
          perf_sttdby,
          perf_usr,

          classtype,
          perf_c4c_id,
          perf_crtd,
          perf_las_act,
          perf_las_act_actrtyp,
          perf_obj_stt,
          perf_vers,
          perf_vsbt,
          perf_dltddt,
          perf_las_act_by,
          perf_origcrtr,
          perf_origcrtrlogdin,
          perf_las_act_by_logdin,
          perf_univid,
          perf_id,
          valid_from,
          valid_to,
          perf_audid,
          perf_prev_audid,
          perf_next_audid
        )
        VALUES
        (
          :new.perf_prmrrole,
          :new.perf_can_be_rand,
          :new.perf_sbtnrole,
          :new.perf_stt,
          :new.perf_sttdby,
          :new.perf_usr,
          :new.classtype,
          :new.perf_c4c_id,
          :new.perf_crtd,
          :new.perf_las_act,
          :new.perf_las_act_actrtyp,
          :new.perf_obj_stt,
          :new.perf_vers,
          :new.perf_vsbt,
          :new.perf_dltddt,
          :new.perf_las_act_by,
          :new.perf_origcrtr,
          :new.perf_origcrtrlogdin,
          :new.perf_las_act_by_logdin,
          :new.perf_univid,
          :new.perf_id,
          :new.perf_las_act_tim,
          NULL,
          u_prmr.NEXTVAL,
          last_audid,
          NULL
        );
      /* update last audit record's valid_to to new LastActionTime
      and next audit ID to newly inserted record's sequence number
      */
      UPDATE
        a_prmr
      SET
        valid_to        = :new.perf_las_act_tim,
        perf_next_audid = u_prmr.CURRVAL
      WHERE
        perf_audid = last_audid;
    END IF;
  END;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
3
</td>
<td>
THH_C4C
</td>
<td>
TRG_CM_ACL_INVALIDATE_MEMBER
</td>
<td>
BEFORE EACH ROW
</td>
<td>
UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_USR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
TRG_CM_ACL_INVALIDATE_MEMBER BEFORE
   UPDATE ON T_USR FOR EACH ROW
</td>
<td>
PL/SQL
</td>
<td>
DECLARE
  BEGIN
    BEGIN
       DELETE FROM umv_dac_cm_acl
       WHERE CMBS_ID IN (SELECT cmbs_id FROM t_cm_basebase WHERE cmbs_memb=:NEW.mbur_id);
    END;
END;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
4
</td>
<td>
THH_C4C
</td>
<td>
TRG_USR_AUDITINSERT
</td>
<td>
BEFORE EACH ROW
</td>
<td>
INSERT
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_USR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_usr_auditinsert before insert on t_usr	for each row


</td>
<td>
PL/SQL
</td>
<td>
declare
	curr_date date;

begin
	curr_date := current_date;

	if :new.usr_crtd is null then
		:new.usr_crtd  := curr_date;
	end if;

	if :new.usr_las_act_tim is null then
		:new.usr_las_act_tim  := curr_date;
	end if;

	if :new.usr_las_act is null then
		:new.usr_las_act  := 1;
	end if;

	if :new.usr_obj_stt is null then
		:new.usr_obj_stt  := 1;
	end if;

	if :new.usr_vers is null then
		:new.usr_vers  := 0;
	end if;

	if :new.usr_vsbt is null then
		:new.usr_vsbt  := 1001;
	end if;

	if :new.usr_las_act_by is null then
		:new.usr_las_act_by  := 1;
	end if;

	if :new.usr_origcrtr is null then
		:new.usr_origcrtr  := 1;
	end if;

	if :new.usr_origcrtrlogdin is null then
		:new.usr_origcrtrlogdin  := 1;
	end if;

	if :new.usr_las_act_by_logdin is null then
		:new.usr_las_act_by_logdin  := 1;
	end if;

	if :new.prv_is_adm is null and :new.classtype = 'Provider' then
		:new.prv_is_adm  := 0;
	end if;

	insert into a_usr (
		mbur_endangered,
		mbur_safeword,
		mbur_medicaid_recert_date,
		mbur_restricted_rcpnt_prgrm,
		payr_thnkhlthend_dt,
		payr_wkldlmitby_all_usr_rols,
		payr_wkldlmitby_pmryusr_role,
		payr_wkldlmitby,
		payr_wkldlmitfnaldcdr,
		payr_wkldlmitby_roleby_svty,
		payr_wkldlmitby_totlwkld,
		payr_wkldlmtdby_worktyp,
		payr_reg_dy_off_mon,
		payr_reg_dy_off_tues,
		payr_reg_dy_off_wed,
		payr_reg_dy_off_thrs,
		payr_reg_dy_off_fri,
		payr_reg_dy_off_sat,
		payr_reg_dy_off_sun,
		payr_svtyidx,
		payr_totlwkld,
		payr_caserqts,
		payr_cass,
		payr_um_rqts,
		payr_um_evts,
		payr_cm_prj_rqts,
		payr_cm_prjs,
		payr_revwrqts,
		payr_id,
		usr_las_dctdby,
		usr_frstatvdby,
		usr_las_atvdby,
		usr_ratnapvl,
		usr_rfngwkfwtsk,
		usr_prvsrfngtsk,
		usr_prvsrfngtsk_prmn,
		usr_ownr,
		usr_prvsownr,
		usr_prvssndr,
		usr_prvsownrprmn,
		usr_tnfr,
		usr_prvstnfr,
		usr_sbtdby,
		mbur_rcpttrkg,
		mbur_las_revw,
		usr_cstmflds,
		prv_pcp_cat,
		prv_pvdrtyp,
		usr_ecty,
		usr_nam_sfix,
		usr_nam_prfx,
		mbur_rlspto_sbcr,
		payr_cstmwkldlmit,
		payr_actlwkld,
		usr_cnctin
fo,
		usr_mrgemstr,
		prv_pvdrpayrdat,
		mbur_sbcr,
		payr_payrpayrdat,
		payr_bck1,
		payr_svsr,
		payr_bck2,
		payr_bck3,
		payr_rgnlsngs,
		payr_stcynoteprps,
		mbur_membpayrdat,
		usr_pmrylang,
		classtype,
		usr_c4c_id,
		usr_crtd,
		usr_las_act,
		usr_las_act_actrtyp,
		usr_obj_stt,
		usr_vers,
		usr_vsbt,
		usr_dltddt,
		usr_las_act_by,
		usr_origcrtr,
		usr_origcrtrlogdin,
		usr_las_act_by_logdin,
		usr_univid,
		usr_frstnam,
		usr_mdlenam,
		usr_las_nam,
		usr_dt_of_brth,
		usr_gndrcode,
		usr_frstatvd,
		usr_las_atvd,
		usr_las_dctd,
		usr_wkfwistcid,
		usr_cnv_id,
		usr_ownrchndflag,
		usr_ownrchndcnt,
		usr_sbtdat,
		prv_pln_id,
		prv_upn_id,
		prv_fed_tax,
		prv_totlpnts,
		prv_totlpntsin_pctc,
		prv_totlpayrmems,
		prv_totlpayrmemsin_pctc,
		prv_acngnew_pnts,
		prv_athdfor_aumtdtmn,
		prv_inscid,
		prv_is_adm,
		prv_pcp_ind,
		prv_id,
		mbur_dt_of_dth,
		mbur_elbl,
		mbur_cob,
		mbur_cob_nam,
		mbur_inscid_at_othrinsr,
		mbur_pmryinsr,
		mbur_crdtind,
		mbur_inscid,
		mbur_medicaid,
		mbur_hicnid,
		mbur_mbi,
		mbur_scl_sctynmbr,
		mbur_cnftcnct,
		mbur_dnf_code,
		mbur_id,
		ff_id,
		payr_empeid,
		payr_scl_sctynmbr,
		payr_strtof_yr,
		payr_hreddt,
		payr_tmtddt,
		payr_thnkhlthstrtdt,
		prv_splrtyp,
		usr_id,
		valid_from,
		valid_to ,
		usr_audid,
		usr_prev_audid,
		usr_next_audid
	) values (
		:new.mbur_endangered,
		:new.mbur_safeword,
		:new.mbur_medicaid_recert_date,
		:new.mbur_restricted_rcpnt_prgrm,
		:new.payr_thnkhlthend_dt,
		:new.payr_wkldlmitby_all_usr_rols,
		:new.payr_wkldlmitby_pmryusr_role,
		:new.payr_wkldlmitby,
		:new.payr_wkldlmitfnaldcdr,
		:new.payr_wkldlmitby_roleby_svty,
		:new.payr_wkldlmitby_totlwkld,
		:new.payr_wkldlmtdby_worktyp,
		:new.payr_reg_dy_off_mon,
		:new.payr_reg_dy_off_tues,
		:new.payr_reg_dy_off_wed,
		:new.payr_reg_dy_off_thrs,
		:new.payr_reg_dy_off_fri,
		:new.payr_reg_dy_off_sat,
		:new.payr_reg_dy_off_sun,
		:new.payr_svtyidx,
		:new.payr_totlwkld,
		:new.payr_caserqts,
		:new.payr_cass,
		:new.payr_u
m_rqts,
		:new.payr_um_evts,
		:new.payr_cm_prj_rqts,
		:new.payr_cm_prjs,
		:new.payr_revwrqts,
		:new.payr_id,
		:new.usr_las_dctdby,
		:new.usr_frstatvdby,
		:new.usr_las_atvdby,
		:new.usr_ratnapvl,
		:new.usr_rfngwkfwtsk,
		:new.usr_prvsrfngtsk,
		:new.usr_prvsrfngtsk_prmn,
		:new.usr_ownr,
		:new.usr_prvsownr,
		:new.usr_prvssndr,
		:new.usr_prvsownrprmn,
		:new.usr_tnfr,
		:new.usr_prvstnfr,
		:new.usr_sbtdby,
		:new.mbur_rcpttrkg,
		:new.mbur_las_revw,
		:new.usr_cstmflds,
		:new.prv_pcp_cat,
		:new.prv_pvdrtyp,
		:new.usr_ecty,
		:new.usr_nam_sfix,
		:new.usr_nam_prfx,
		:new.mbur_rlspto_sbcr,
		:new.payr_cstmwkldlmit,
		:new.payr_actlwkld,
		:new.usr_cnctinfo,
		:new.usr_mrgemstr,
		:new.prv_pvdrpayrdat,
		:new.mbur_sbcr,
		:new.payr_payrpayrdat,
		:new.payr_bck1,
		:new.payr_svsr,
		:new.payr_bck2,
		:new.payr_bck3,
		:new.payr_rgnlsngs,
		:new.payr_stcynoteprps,
		:new.mbur_membpayrdat,
		:new.usr_pmrylang,
		:new.classtype,
		:new.usr_c4c_id,
		:new.usr_crtd,
		:new.usr_las_act,
		:new.usr_las_act_actrtyp,
		:new.usr_obj_stt,
		:new.usr_vers,
		:new.usr_vsbt,
		:new.usr_dltddt,
		:new.usr_las_act_by,
		:new.usr_origcrtr,
		:new.usr_origcrtrlogdin,
		:new.usr_las_act_by_logdin,
		:new.usr_univid,
		:new.usr_frstnam,
		:new.usr_mdlenam,
		:new.usr_las_nam,
		:new.usr_dt_of_brth,
		:new.usr_gndrcode,
		:new.usr_frstatvd,
		:new.usr_las_atvd,
		:new.usr_las_dctd,
		:new.usr_wkfwistcid,
		:new.usr_cnv_id,
		:new.usr_ownrchndflag,
		:new.usr_ownrchndcnt,
		:new.usr_sbtdat,
		:new.prv_pln_id,
		:new.prv_upn_id,
		:new.prv_fed_tax,
		:new.prv_totlpnts,
		:new.prv_totlpntsin_pctc,
		:new.prv_totlpayrmems,
		:new.prv_totlpayrmemsin_pctc,
		:new.prv_acngnew_pnts,
		:new.prv_athdfor_aumtdtmn,
		:new.prv_inscid,
		:new.prv_is_adm,
		:new.prv_pcp_ind,
		:new.prv_id,
		:new.mbur_dt_of_dth,
		:new.mbur_elbl,
		:new.mbur_cob,
		:new.mbur_cob_nam,
		:new.mbur_inscid_at_othrinsr,
		:new.mbur_pmryinsr,
		:new.mbur_crdtind,
		:new.mbur_inscid,
		:new.mbur_medicaid,
		:new.m
bur_hicnid,
		:new.mbur_mbi,
		:new.mbur_scl_sctynmbr,
		:new.mbur_cnftcnct,
		:new.mbur_dnf_code,
		:new.mbur_id,
		:new.ff_id,
		:new.payr_empeid,
		:new.payr_scl_sctynmbr,
		:new.payr_strtof_yr,
		:new.payr_hreddt,
		:new.payr_tmtddt,
		:new.payr_thnkhlthstrtdt,
		:new.prv_splrtyp,
		:new.usr_id,
		:new.usr_las_act_tim,
		null,
		u_usr.nextval,
		null,
		null
	);
end;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
5
</td>
<td>
THH_C4C
</td>
<td>
TRG_USR_AUDITUPDATE
</td>
<td>
BEFORE EACH ROW
</td>
<td>
UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_USR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_usr_auditupdate before update on t_usr for each row


</td>
<td>
PL/SQL
</td>
<td>
declare
	last_audid number;

begin

	begin

		select usr_audid into last_audid
		from a_usr
		where
			usr_id = :old.usr_id
			and
			usr_next_audid is null
			and
			rownum &lt; 2 for update;
		exception
			when no_data_found then
				last_audid := null;
	end;

	/* LastActionTime has not changed - no new transaction */
	if :old.usr_las_act_tim = :new.usr_las_act_tim then
		update a_usr
		set
			mbur_endangered						= :new.mbur_endangered,
			mbur_safeword						= :new.mbur_safeword,
			mbur_medicaid_recert_date			= :new.mbur_medicaid_recert_date,
			mbur_restricted_rcpnt_prgrm		=	:new.mbur_restricted_rcpnt_prgrm,
			prv_is_adm										= :new.prv_is_adm,
			prv_pcp_ind										= :new.prv_pcp_ind,
			prv_id												= :new.prv_id,
			mbur_dt_of_dth								= :new.mbur_dt_of_dth,
			mbur_elbl											= :new.mbur_elbl,
			mbur_cob											= :new.mbur_cob,
			mbur_cob_nam									= :new.mbur_cob_nam,
			mbur_inscid_at_othrinsr				= :new.mbur_inscid_at_othrinsr,
			mbur_pmryinsr									= :new.mbur_pmryinsr,
			mbur_crdtind									= :new.mbur_crdtind,
			mbur_inscid										= :new.mbur_inscid,
			mbur_medicaid									= :new.mbur_medicaid,
			mbur_hicnid										= :new.mbur_hicnid,
			mbur_mbi										= :new.mbur_mbi,
			mbur_scl_sctynmbr							= :new.mbur_scl_sctynmbr,
			mbur_cnftcnct									= :new.mbur_cnftcnct,
			mbur_dnf_code									= :new.mbur_dnf_code,
			mbur_id												= :new.mbur_id,
			ff_id													= :new.ff_id,
			payr_empeid										= :new.payr_empeid,
			payr_scl_sctynmbr							= :new.payr_scl_sctynmbr,
			payr_strtof_yr								= :new.payr_strtof_yr,
			payr_hreddt										= :new.payr_hreddt,
			payr_tmtddt										= :new.payr_tmtddt,
			payr_thnkhlthstrtdt						= :new.payr_thnkhlthstrtdt,
			payr_thnkhlthend_dt						= :new.payr_thnkhlthend_dt,
			payr_wkldlmitby_all_usr_rols	=	:new.payr_wkldlmitby_all_usr_rols,
			payr_wkldlmitby_pmryusr_role	= :new.payr_wkldlmitby_pmryusr_role,
			payr_wkldlmitby								= :new.payr_wkldlmitby,
			payr
_wkldlmitfnaldcdr					= :new.payr_wkldlmitfnaldcdr,
			payr_wkldlmitby_roleby_svty		= :new.payr_wkldlmitby_roleby_svty,
			payr_wkldlmitby_totlwkld			= :new.payr_wkldlmitby_totlwkld,
			payr_wkldlmtdby_worktyp				= :new.payr_wkldlmtdby_worktyp,
			payr_reg_dy_off_mon						= :new.payr_reg_dy_off_mon,
			payr_reg_dy_off_tues					= :new.payr_reg_dy_off_tues,
			payr_reg_dy_off_wed						= :new.payr_reg_dy_off_wed,
			payr_reg_dy_off_thrs					= :new.payr_reg_dy_off_thrs,
			payr_reg_dy_off_fri						= :new.payr_reg_dy_off_fri,
			payr_reg_dy_off_sat						= :new.payr_reg_dy_off_sat,
			payr_reg_dy_off_sun						= :new.payr_reg_dy_off_sun,
			payr_svtyidx									= :new.payr_svtyidx,
			payr_totlwkld									= :new.payr_totlwkld,
			payr_caserqts									= :new.payr_caserqts,
			payr_cass											= :new.payr_cass,
			payr_um_rqts									= :new.payr_um_rqts,
			payr_um_evts									= :new.payr_um_evts,
			payr_cm_prj_rqts							= :new.payr_cm_prj_rqts,
			payr_cm_prjs									= :new.payr_cm_prjs,
			payr_revwrqts									= :new.payr_revwrqts,
			payr_id												= :new.payr_id,
			usr_las_dctdby								= :new.usr_las_dctdby,
			usr_frstatvdby								= :new.usr_frstatvdby,
			usr_las_atvdby								= :new.usr_las_atvdby,
			usr_ratnapvl									= :new.usr_ratnapvl,
			usr_rfngwkfwtsk								= :new.usr_rfngwkfwtsk,
			usr_prvsrfngtsk								= :new.usr_prvsrfngtsk,
			usr_prvsrfngtsk_prmn					= :new.usr_prvsrfngtsk_prmn,
			usr_ownr											= :new.usr_ownr,
			usr_prvsownr									= :new.usr_prvsownr,
			usr_prvssndr									= :new.usr_prvssndr,
			usr_prvsownrprmn							= :new.usr_prvsownrprmn,
			usr_tnfr											= :new.usr_tnfr,
			usr_prvstnfr									= :new.usr_prvstnfr,
			usr_sbtdby										= :new.usr_sbtdby,
			mbur_rcpttrkg									= :new.mbur_rcpttrkg,
			mbur_las_revw									= :new.mbur_las_revw,
			usr_cstmflds									= :new.usr_cstmflds,
			prv_pcp_cat										= :new.prv_pcp_cat,
			prv_pvdrtyp										= :new.prv_pvdrtyp,
			usr_ecty											= :new.us
r_ecty,
			usr_nam_sfix									= :new.usr_nam_sfix,
			usr_nam_prfx									= :new.usr_nam_prfx,
			mbur_rlspto_sbcr							= :new.mbur_rlspto_sbcr,
			payr_cstmwkldlmit							= :new.payr_cstmwkldlmit,
			payr_actlwkld									= :new.payr_actlwkld,
			usr_cnctinfo									= :new.usr_cnctinfo,
			usr_mrgemstr									= :new.usr_mrgemstr,
			prv_pvdrpayrdat								= :new.prv_pvdrpayrdat,
			mbur_sbcr											= :new.mbur_sbcr,
			payr_payrpayrdat							= :new.payr_payrpayrdat,
			payr_bck1											= :new.payr_bck1,
			payr_svsr											= :new.payr_svsr,
			payr_bck2											= :new.payr_bck2,
			payr_bck3											= :new.payr_bck3,
			payr_rgnlsngs									= :new.payr_rgnlsngs,
			payr_stcynoteprps							= :new.payr_stcynoteprps,
			mbur_membpayrdat							= :new.mbur_membpayrdat,
			usr_pmrylang									= :new.usr_pmrylang,
			classtype											= :new.classtype,
			usr_c4c_id										= :new.usr_c4c_id,
			usr_crtd											= :new.usr_crtd,
			usr_las_act										= :new.usr_las_act,
			usr_las_act_actrtyp						= :new.usr_las_act_actrtyp,
			usr_obj_stt										= :new.usr_obj_stt,
			usr_vers											= :new.usr_vers,
			usr_vsbt											= :new.usr_vsbt,
			usr_dltddt										= :new.usr_dltddt,
			usr_las_act_by								= :new.usr_las_act_by,
			usr_origcrtr									= :new.usr_origcrtr,
			usr_origcrtrlogdin						= :new.usr_origcrtrlogdin,
			usr_las_act_by_logdin					= :new.usr_las_act_by_logdin,
			usr_univid										= :new.usr_univid,
			usr_frstnam										= :new.usr_frstnam,
			usr_mdlenam										= :new.usr_mdlenam,
			usr_las_nam										= :new.usr_las_nam,
			usr_dt_of_brth								= :new.usr_dt_of_brth,
			usr_gndrcode									= :new.usr_gndrcode,
			usr_frstatvd									= :new.usr_frstatvd,
			usr_las_atvd									= :new.usr_las_atvd,
			usr_las_dctd									= :new.usr_las_dctd,
			usr_wkfwistcid								= :new.usr_wkfwistcid,
			usr_cnv_id										= :new.usr_cnv_id,
			usr_ownrchndflag							= :new.usr_ownrchndflag,
			usr_ownrchndcnt						
		= :new.usr_ownrchndcnt,
			usr_sbtdat										= :new.usr_sbtdat,
			prv_pln_id										= :new.prv_pln_id,
			prv_upn_id										= :new.prv_upn_id,
			prv_fed_tax										= :new.prv_fed_tax,
			prv_totlpnts									= :new.prv_totlpnts,
			prv_totlpntsin_pctc						= :new.prv_totlpntsin_pctc,
			prv_totlpayrmems							= :new.prv_totlpayrmems,
			prv_totlpayrmemsin_pctc				= :new.prv_totlpayrmemsin_pctc,
			prv_acngnew_pnts							= :new.prv_acngnew_pnts,
			prv_athdfor_aumtdtmn					= :new.prv_athdfor_aumtdtmn,
			prv_inscid										= :new.prv_inscid,
			prv_splrtyp										= :new.prv_splrtyp
		where
			usr_audid = last_audid;
	/* LastActionTime has changed - new transaction in place */
	else
		/* insert new values introduced by new transaction */
		insert into a_usr (
			mbur_endangered,
			mbur_safeword,
			mbur_medicaid_recert_date,
			mbur_restricted_rcpnt_prgrm,
			prv_is_adm,
			prv_pcp_ind,
			prv_id,
			mbur_dt_of_dth,
			mbur_elbl,
			mbur_cob,
			mbur_cob_nam,
			mbur_inscid_at_othrinsr,
			mbur_pmryinsr,
			mbur_crdtind,
			mbur_inscid,
			mbur_medicaid,
			mbur_hicnid,
			mbur_mbi,
			mbur_scl_sctynmbr,
			mbur_cnftcnct,
			mbur_dnf_code,
			mbur_id,
			ff_id,
			payr_empeid,
			payr_scl_sctynmbr,
			payr_strtof_yr,
			payr_hreddt,
			payr_tmtddt,
			payr_thnkhlthstrtdt,
			payr_thnkhlthend_dt,
			payr_wkldlmitby_all_usr_rols,
			payr_wkldlmitby_pmryusr_role,
			payr_wkldlmitby,
			payr_wkldlmitfnaldcdr,
			payr_wkldlmitby_roleby_svty,
			payr_wkldlmitby_totlwkld,
			payr_wkldlmtdby_worktyp,
			payr_reg_dy_off_mon,
			payr_reg_dy_off_tues,
			payr_reg_dy_off_wed,
			payr_reg_dy_off_thrs,
			payr_reg_dy_off_fri,
			payr_reg_dy_off_sat,
			payr_reg_dy_off_sun,
			payr_svtyidx,
			payr_totlwkld,
			payr_caserqts,
			payr_cass,
			payr_um_rqts,
			payr_um_evts,
			payr_cm_prj_rqts,
			payr_cm_prjs,
			payr_revwrqts,
			payr_id,
			usr_las_dctdby,
			usr_frstatvdby,
			usr_las_atvdby,
			usr_ratnapvl,
			usr_rfngwkfwtsk,
			usr_prvsrfngtsk,
			usr_prvsrfng
tsk_prmn,
			usr_ownr,
			usr_prvsownr,
			usr_prvssndr,
			usr_prvsownrprmn,
			usr_tnfr,
			usr_prvstnfr,
			usr_sbtdby,
			mbur_rcpttrkg,
			mbur_las_revw,
			usr_cstmflds,
			prv_pcp_cat,
			prv_pvdrtyp,
			usr_ecty,
			usr_nam_sfix,
			usr_nam_prfx,
			mbur_rlspto_sbcr,
			payr_cstmwkldlmit,
			payr_actlwkld,
			usr_cnctinfo,
			usr_mrgemstr,
			prv_pvdrpayrdat,
			mbur_sbcr,
			payr_payrpayrdat,
			payr_bck1,
			payr_svsr,
			payr_bck2,
			payr_bck3,
			payr_rgnlsngs,
			payr_stcynoteprps,
			mbur_membpayrdat,
			usr_pmrylang,
			classtype,
			usr_c4c_id,
			usr_crtd,
			usr_las_act,
			usr_las_act_actrtyp,
			usr_obj_stt,
			usr_vers,
			usr_vsbt,
			usr_dltddt,
			usr_las_act_by,
			usr_origcrtr,
			usr_origcrtrlogdin,
			usr_las_act_by_logdin,
			usr_univid,
			usr_frstnam,
			usr_mdlenam,
			usr_las_nam,
			usr_dt_of_brth,
			usr_gndrcode,
			usr_frstatvd,
			usr_las_atvd,
			usr_las_dctd,
			usr_wkfwistcid,
			usr_cnv_id,
			usr_ownrchndflag,
			usr_ownrchndcnt,
			usr_sbtdat,
			prv_pln_id,
			prv_upn_id,
			prv_fed_tax,
			prv_totlpnts,
			prv_totlpntsin_pctc,
			prv_totlpayrmems,
			prv_totlpayrmemsin_pctc,
			prv_acngnew_pnts,
			prv_athdfor_aumtdtmn,
			prv_inscid,
			prv_splrtyp,
			usr_id,
			valid_from,
			valid_to,
			usr_audid,
			usr_prev_audid,
			usr_next_audid
		) values (
			:new.mbur_endangered,
			:new.mbur_safeword,
			:new.mbur_medicaid_recert_date,
			:new.mbur_restricted_rcpnt_prgrm,
			:new.prv_is_adm,
			:new.prv_pcp_ind,
			:new.prv_id,
			:new.mbur_dt_of_dth,
			:new.mbur_elbl,
			:new.mbur_cob,
			:new.mbur_cob_nam,
			:new.mbur_inscid_at_othrinsr,
			:new.mbur_pmryinsr,
			:new.mbur_crdtind,
			:new.mbur_inscid,
			:new.mbur_medicaid,
			:new.mbur_hicnid,
			:new.mbur_mbi,
			:new.mbur_scl_sctynmbr,
			:new.mbur_cnftcnct,
			:new.mbur_dnf_code,
			:new.mbur_id,
			:new.ff_id,
			:new.payr_empeid,
			:new.payr_scl_sctynmbr,
			:new.payr_strtof_yr,
			:new.payr_hreddt,
			:new.payr_tmtddt,
			:new.payr_thnkhlthstrtdt,
			:new.payr
_thnkhlthend_dt,
			:new.payr_wkldlmitby_all_usr_rols,
			:new.payr_wkldlmitby_pmryusr_role,
			:new.payr_wkldlmitby,
			:new.payr_wkldlmitfnaldcdr,
			:new.payr_wkldlmitby_roleby_svty,
			:new.payr_wkldlmitby_totlwkld,
			:new.payr_wkldlmtdby_worktyp,
			:new.payr_reg_dy_off_mon,
			:new.payr_reg_dy_off_tues,
			:new.payr_reg_dy_off_wed,
			:new.payr_reg_dy_off_thrs,
			:new.payr_reg_dy_off_fri,
			:new.payr_reg_dy_off_sat,
			:new.payr_reg_dy_off_sun,
			:new.payr_svtyidx,
			:new.payr_totlwkld,
			:new.payr_caserqts,
			:new.payr_cass,
			:new.payr_um_rqts,
			:new.payr_um_evts,
			:new.payr_cm_prj_rqts,
			:new.payr_cm_prjs,
			:new.payr_revwrqts,
			:new.payr_id,
			:new.usr_las_dctdby,
			:new.usr_frstatvdby,
			:new.usr_las_atvdby,
			:new.usr_ratnapvl,
			:new.usr_rfngwkfwtsk,
			:new.usr_prvsrfngtsk,
			:new.usr_prvsrfngtsk_prmn,
			:new.usr_ownr,
			:new.usr_prvsownr,
			:new.usr_prvssndr,
			:new.usr_prvsownrprmn,
			:new.usr_tnfr,
			:new.usr_prvstnfr,
			:new.usr_sbtdby,
			:new.mbur_rcpttrkg,
			:new.mbur_las_revw,
			:new.usr_cstmflds,
			:new.prv_pcp_cat,
			:new.prv_pvdrtyp,
			:new.usr_ecty,
			:new.usr_nam_sfix,
			:new.usr_nam_prfx,
			:new.mbur_rlspto_sbcr,
			:new.payr_cstmwkldlmit,
			:new.payr_actlwkld,
			:new.usr_cnctinfo,
			:new.usr_mrgemstr,
			:new.prv_pvdrpayrdat,
			:new.mbur_sbcr,
			:new.payr_payrpayrdat,
			:new.payr_bck1,
			:new.payr_svsr,
			:new.payr_bck2,
			:new.payr_bck3,
			:new.payr_rgnlsngs,
			:new.payr_stcynoteprps,
			:new.mbur_membpayrdat,
			:new.usr_pmrylang,
			:new.classtype,
			:new.usr_c4c_id,
			:new.usr_crtd,
			:new.usr_las_act,
			:new.usr_las_act_actrtyp,
			:new.usr_obj_stt,
			:new.usr_vers,
			:new.usr_vsbt,
			:new.usr_dltddt,
			:new.usr_las_act_by,
			:new.usr_origcrtr,
			:new.usr_origcrtrlogdin,
			:new.usr_las_act_by_logdin,
			:new.usr_univid,
			:new.usr_frstnam,
			:new.usr_mdlenam,
			:new.usr_las_nam,
			:new.usr_dt_of_brth,
			:new.usr_gndrcode,
			:new.usr_frstatvd,
			:new.usr_las_atvd,
			
:new.usr_las_dctd,
			:new.usr_wkfwistcid,
			:new.usr_cnv_id,
			:new.usr_ownrchndflag,
			:new.usr_ownrchndcnt,
			:new.usr_sbtdat,
			:new.prv_pln_id,
			:new.prv_upn_id,
			:new.prv_fed_tax,
			:new.prv_totlpnts,
			:new.prv_totlpntsin_pctc,
			:new.prv_totlpayrmems,
			:new.prv_totlpayrmemsin_pctc,
			:new.prv_acngnew_pnts,
			:new.prv_athdfor_aumtdtmn,
			:new.prv_inscid,
			:new.prv_splrtyp,
			:new.usr_id,
			:new.usr_las_act_tim,
			null,
			u_usr.nextval,
			last_audid,
			null
		);

		/* update last audit record valid_to to new LastActionTime	and next audit ID to newly inserted record sequence number */
		update a_usr
		set
			valid_to = :new.usr_las_act_tim,
			usr_next_audid = u_usr.currval
		where
			usr_audid = last_audid;
	end if;
end;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
6
</td>
<td>
THH_C4C
</td>
<td>
TRG_USR_DACMEMBER
</td>
<td>
AFTER EACH ROW
</td>
<td>
INSERT OR UPDATE OR DELETE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_USR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>

      (NVL(new.USR_OBJ_STT,-1)  &lt;&gt; NVL(old.USR_OBJ_STT,-1)
      AND (new.USR_OBJ_STT       = 2
        OR old.USR_OBJ_STT       = 2) )
    OR NVL(new.USR_CNCTINFO,-1) &lt;&gt; NVL(old.USR_CNCTINFO,-1)
    OR NVL(new.USR_MRGEMSTR,-1) &lt;&gt; NVL(old.USR_MRGEMSTR,-1)
</td>
<td>
ENABLED
</td>
<td>
trg_usr_dacmember AFTER
    INSERT OR
    DELETE OR
    UPDATE OF USR_OBJ_STT,
              USR_CNCTINFO,
              USR_MRGEMSTR
    ON T_USR FOR EACH ROW

</td>
<td>
PL/SQL
</td>
<td>
DECLARE
	t_usr_NEW_rec t_usr%rowtype;
    t_usr_OLD_rec t_usr%rowtype;

BEGIN
  t_usr_NEW_rec.&quot;USR_FRSTATVD&quot;                 := :new.&quot;USR_FRSTATVD&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ATVD&quot;                 := :new.&quot;USR_LAS_ATVD&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_DCTD&quot;                 := :new.&quot;USR_LAS_DCTD&quot;;
  t_usr_NEW_rec.&quot;USR_WKFWISTCID&quot;               := :new.&quot;USR_WKFWISTCID&quot;;
  t_usr_NEW_rec.&quot;USR_CNV_ID&quot;                   := :new.&quot;USR_CNV_ID&quot;;
  t_usr_NEW_rec.&quot;USR_OWNRCHNDFLAG&quot;             := :new.&quot;USR_OWNRCHNDFLAG&quot;;
  t_usr_NEW_rec.&quot;USR_OWNRCHNDCNT&quot;              := :new.&quot;USR_OWNRCHNDCNT&quot;;
  t_usr_NEW_rec.&quot;USR_SBTDAT&quot;                   := :new.&quot;USR_SBTDAT&quot;;
  t_usr_NEW_rec.&quot;USR_ID&quot;                       := :new.&quot;USR_ID&quot;;
  t_usr_NEW_rec.&quot;PRV_PLN_ID&quot;                   := :new.&quot;PRV_PLN_ID&quot;;
  t_usr_NEW_rec.&quot;PRV_UPN_ID&quot;                   := :new.&quot;PRV_UPN_ID&quot;;
  t_usr_NEW_rec.&quot;PRV_FED_TAX&quot;                  := :new.&quot;PRV_FED_TAX&quot;;
  t_usr_NEW_rec.&quot;PRV_TOTLPNTS&quot;                 := :new.&quot;PRV_TOTLPNTS&quot;;
  t_usr_NEW_rec.&quot;PRV_TOTLPNTSIN_PCTC&quot;          := :new.&quot;PRV_TOTLPNTSIN_PCTC&quot;;
  t_usr_NEW_rec.&quot;PRV_TOTLPAYRMEMS&quot;             := :new.&quot;PRV_TOTLPAYRMEMS&quot;;
  t_usr_NEW_rec.&quot;PRV_TOTLPAYRMEMSIN_PCTC&quot;      := :new.&quot;PRV_TOTLPAYRMEMSIN_PCTC&quot;;
  t_usr_NEW_rec.&quot;PRV_ACNGNEW_PNTS&quot;             := :new.&quot;PRV_ACNGNEW_PNTS&quot;;
  t_usr_NEW_rec.&quot;PRV_ATHDFOR_AUMTDTMN&quot;         := :new.&quot;PRV_ATHDFOR_AUMTDTMN&quot;;
  t_usr_NEW_rec.&quot;PRV_INSCID&quot;                   := :new.&quot;PRV_INSCID&quot;;
  t_usr_NEW_rec.&quot;PRV_IS_ADM&quot;                   := :new.&quot;PRV_IS_ADM&quot;;
  t_usr_NEW_rec.&quot;PRV_PCP_IND&quot;                  := :new.&quot;PRV_PCP_IND&quot;;
  t_usr_NEW_rec.&quot;PRV_ID&quot;                       := :new.&quot;PRV_ID&quot;;
  t_usr_NEW_rec.&quot;MBUR_DT_OF_DTH&quot;               := :new.&quot;MBUR_DT_OF_DTH&quot;;
  t_usr_NEW_rec.&quot;MBUR_ELBL&quot;                    := :new.&quot;MBUR_ELBL&quot;;
  t_usr_NEW_rec.&quot;MBUR_COB&quot;                     := :new.&quot;MBUR_COB&quot;;
  t_usr_NEW_rec.&quot;MBUR_COB_NAM&quot;                 := :new.&quot;MBUR_COB_NAM&quot;;
  t_usr_NEW_rec.&quot;MBUR_INSCID_AT_OTHRINSR&quot;      := :new.&quot;MBUR_INS
CID_AT_OTHRINSR&quot;;
  t_usr_NEW_rec.&quot;MBUR_PMRYINSR&quot;                := :new.&quot;MBUR_PMRYINSR&quot;;
  t_usr_NEW_rec.&quot;MBUR_CRDTIND&quot;                 := :new.&quot;MBUR_CRDTIND&quot;;
  t_usr_NEW_rec.&quot;MBUR_INSCID&quot;                  := :new.&quot;MBUR_INSCID&quot;;
  t_usr_NEW_rec.&quot;MBUR_SCL_SCTYNMBR&quot;            := :new.&quot;MBUR_SCL_SCTYNMBR&quot;;
  t_usr_NEW_rec.&quot;MBUR_CNFTCNCT&quot;                := :new.&quot;MBUR_CNFTCNCT&quot;;
  t_usr_NEW_rec.&quot;MBUR_DNF_CODE&quot;                := :new.&quot;MBUR_DNF_CODE&quot;;
  t_usr_NEW_rec.&quot;MBUR_ID&quot;                      := :new.&quot;MBUR_ID&quot;;
  t_usr_NEW_rec.&quot;FF_ID&quot;                        := :new.&quot;FF_ID&quot;;
  t_usr_NEW_rec.&quot;PAYR_EMPEID&quot;                  := :new.&quot;PAYR_EMPEID&quot;;
  t_usr_NEW_rec.&quot;PAYR_SCL_SCTYNMBR&quot;            := :new.&quot;PAYR_SCL_SCTYNMBR&quot;;
  t_usr_NEW_rec.&quot;PAYR_STRTOF_YR&quot;               := :new.&quot;PAYR_STRTOF_YR&quot;;
  t_usr_NEW_rec.&quot;PAYR_HREDDT&quot;                  := :new.&quot;PAYR_HREDDT&quot;;
  t_usr_NEW_rec.&quot;PAYR_TMTDDT&quot;                  := :new.&quot;PAYR_TMTDDT&quot;;
  t_usr_NEW_rec.&quot;PAYR_THNKHLTHSTRTDT&quot;          := :new.&quot;PAYR_THNKHLTHSTRTDT&quot;;
  t_usr_NEW_rec.&quot;PAYR_THNKHLTHEND_DT&quot;          := :new.&quot;PAYR_THNKHLTHEND_DT&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITBY_ALL_USR_ROLS&quot; := :new.&quot;PAYR_WKLDLMITBY_ALL_USR_ROLS&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITBY_PMRYUSR_ROLE&quot; := :new.&quot;PAYR_WKLDLMITBY_PMRYUSR_ROLE&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITBY&quot;              := :new.&quot;PAYR_WKLDLMITBY&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITFNALDCDR&quot;        := :new.&quot;PAYR_WKLDLMITFNALDCDR&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITBY_ROLEBY_SVTY&quot;  := :new.&quot;PAYR_WKLDLMITBY_ROLEBY_SVTY&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMITBY_TOTLWKLD&quot;     := :new.&quot;PAYR_WKLDLMITBY_TOTLWKLD&quot;;
  t_usr_NEW_rec.&quot;PAYR_WKLDLMTDBY_WORKTYP&quot;      := :new.&quot;PAYR_WKLDLMTDBY_WORKTYP&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_MON&quot;          := :new.&quot;PAYR_REG_DY_OFF_MON&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_TUES&quot;         := :new.&quot;PAYR_REG_DY_OFF_TUES&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_WED&quot;          := :new.&quot;PAYR_REG_DY_OFF_WED&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_THRS&quot;         := :new.&quot;PAYR_REG_DY_OFF_THRS&quot;;
  t_usr_NEW
_rec.&quot;PAYR_REG_DY_OFF_FRI&quot;          := :new.&quot;PAYR_REG_DY_OFF_FRI&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_SAT&quot;          := :new.&quot;PAYR_REG_DY_OFF_SAT&quot;;
  t_usr_NEW_rec.&quot;PAYR_REG_DY_OFF_SUN&quot;          := :new.&quot;PAYR_REG_DY_OFF_SUN&quot;;
  t_usr_NEW_rec.&quot;PAYR_SVTYIDX&quot;                 := :new.&quot;PAYR_SVTYIDX&quot;;
  t_usr_NEW_rec.&quot;PAYR_TOTLWKLD&quot;                := :new.&quot;PAYR_TOTLWKLD&quot;;
  t_usr_NEW_rec.&quot;PAYR_CASERQTS&quot;                := :new.&quot;PAYR_CASERQTS&quot;;
  t_usr_NEW_rec.&quot;PAYR_CASS&quot;                    := :new.&quot;PAYR_CASS&quot;;
  t_usr_NEW_rec.&quot;PAYR_UM_RQTS&quot;                 := :new.&quot;PAYR_UM_RQTS&quot;;
  t_usr_NEW_rec.&quot;PAYR_UM_EVTS&quot;                 := :new.&quot;PAYR_UM_EVTS&quot;;
  t_usr_NEW_rec.&quot;PAYR_CM_PRJ_RQTS&quot;             := :new.&quot;PAYR_CM_PRJ_RQTS&quot;;
  t_usr_NEW_rec.&quot;PAYR_CM_PRJS&quot;                 := :new.&quot;PAYR_CM_PRJS&quot;;
  t_usr_NEW_rec.&quot;PAYR_REVWRQTS&quot;                := :new.&quot;PAYR_REVWRQTS&quot;;
  t_usr_NEW_rec.&quot;PAYR_ID&quot;                      := :new.&quot;PAYR_ID&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_DCTDBY&quot;               := :new.&quot;USR_LAS_DCTDBY&quot;;
  t_usr_NEW_rec.&quot;USR_FRSTATVDBY&quot;               := :new.&quot;USR_FRSTATVDBY&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ATVDBY&quot;               := :new.&quot;USR_LAS_ATVDBY&quot;;
  t_usr_NEW_rec.&quot;USR_RATNAPVL&quot;                 := :new.&quot;USR_RATNAPVL&quot;;
  t_usr_NEW_rec.&quot;USR_RFNGWKFWTSK&quot;              := :new.&quot;USR_RFNGWKFWTSK&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSRFNGTSK&quot;              := :new.&quot;USR_PRVSRFNGTSK&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSRFNGTSK_PRMN&quot;         := :new.&quot;USR_PRVSRFNGTSK_PRMN&quot;;
  t_usr_NEW_rec.&quot;USR_OWNR&quot;                     := :new.&quot;USR_OWNR&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSOWNR&quot;                 := :new.&quot;USR_PRVSOWNR&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSSNDR&quot;                 := :new.&quot;USR_PRVSSNDR&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSOWNRPRMN&quot;             := :new.&quot;USR_PRVSOWNRPRMN&quot;;
  t_usr_NEW_rec.&quot;USR_TNFR&quot;                     := :new.&quot;USR_TNFR&quot;;
  t_usr_NEW_rec.&quot;USR_PRVSTNFR&quot;                 := :new.&quot;USR_PRVSTNFR&quot;;
  t_usr_NEW_rec.&quot;USR_SBTDBY&quot;                   := :new.&quot;USR_SBTDBY&quot;;
  t_usr_NEW_rec.&quot;MBUR_RCPTTRKG&quot;                := :new.&quot;MBUR
_RCPTTRKG&quot;;
  t_usr_NEW_rec.&quot;MBUR_LAS_REVW&quot;                := :new.&quot;MBUR_LAS_REVW&quot;;
  t_usr_NEW_rec.&quot;PRV_PCP_CAT&quot;                  := :new.&quot;PRV_PCP_CAT&quot;;
  t_usr_NEW_rec.&quot;PRV_PVDRTYP&quot;                  := :new.&quot;PRV_PVDRTYP&quot;;
  t_usr_NEW_rec.&quot;PRV_SPLRTYP&quot;                  := :new.&quot;PRV_SPLRTYP&quot;;
  t_usr_NEW_rec.&quot;USR_ECTY&quot;                     := :new.&quot;USR_ECTY&quot;;
  t_usr_NEW_rec.&quot;USR_NAM_SFIX&quot;                 := :new.&quot;USR_NAM_SFIX&quot;;
  t_usr_NEW_rec.&quot;USR_NAM_PRFX&quot;                 := :new.&quot;USR_NAM_PRFX&quot;;
  t_usr_NEW_rec.&quot;MBUR_RLSPTO_SBCR&quot;             := :new.&quot;MBUR_RLSPTO_SBCR&quot;;
  t_usr_NEW_rec.&quot;PAYR_CSTMWKLDLMIT&quot;            := :new.&quot;PAYR_CSTMWKLDLMIT&quot;;
  t_usr_NEW_rec.&quot;PAYR_ACTLWKLD&quot;                := :new.&quot;PAYR_ACTLWKLD&quot;;
  t_usr_NEW_rec.&quot;USR_CNCTINFO&quot;                 := :new.&quot;USR_CNCTINFO&quot;;
  t_usr_NEW_rec.&quot;USR_MRGEMSTR&quot;                 := :new.&quot;USR_MRGEMSTR&quot;;
  t_usr_NEW_rec.&quot;PRV_PVDRPAYRDAT&quot;              := :new.&quot;PRV_PVDRPAYRDAT&quot;;
  t_usr_NEW_rec.&quot;MBUR_SBCR&quot;                    := :new.&quot;MBUR_SBCR&quot;;
  t_usr_NEW_rec.&quot;PAYR_PAYRPAYRDAT&quot;             := :new.&quot;PAYR_PAYRPAYRDAT&quot;;
  t_usr_NEW_rec.&quot;PAYR_BCK1&quot;                    := :new.&quot;PAYR_BCK1&quot;;
  t_usr_NEW_rec.&quot;PAYR_SVSR&quot;                    := :new.&quot;PAYR_SVSR&quot;;
  t_usr_NEW_rec.&quot;PAYR_BCK2&quot;                    := :new.&quot;PAYR_BCK2&quot;;
  t_usr_NEW_rec.&quot;PAYR_BCK3&quot;                    := :new.&quot;PAYR_BCK3&quot;;
  t_usr_NEW_rec.&quot;PAYR_RGNLSNGS&quot;                := :new.&quot;PAYR_RGNLSNGS&quot;;
  t_usr_NEW_rec.&quot;PAYR_STCYNOTEPRPS&quot;            := :new.&quot;PAYR_STCYNOTEPRPS&quot;;
  t_usr_NEW_rec.&quot;MBUR_MEMBPAYRDAT&quot;             := :new.&quot;MBUR_MEMBPAYRDAT&quot;;
  t_usr_NEW_rec.&quot;CLASSTYPE&quot;                    := :new.&quot;CLASSTYPE&quot;;
  t_usr_NEW_rec.&quot;USR_C4C_ID&quot;                   := :new.&quot;USR_C4C_ID&quot;;
  t_usr_NEW_rec.&quot;USR_CRTD&quot;                     := :new.&quot;USR_CRTD&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ACT&quot;                  := :new.&quot;USR_LAS_ACT&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ACT_ACTRTYP&quot;          := :new.&quot;USR_LAS_ACT_ACTRTYP&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ACT_TIM&quot;              := :new.&quot;USR_LAS_ACT_
TIM&quot;;
  t_usr_NEW_rec.&quot;USR_OBJ_STT&quot;                  := :new.&quot;USR_OBJ_STT&quot;;
  t_usr_NEW_rec.&quot;USR_VERS&quot;                     := :new.&quot;USR_VERS&quot;;
  t_usr_NEW_rec.&quot;USR_VSBT&quot;                     := :new.&quot;USR_VSBT&quot;;
  t_usr_NEW_rec.&quot;USR_DLTDDT&quot;                   := :new.&quot;USR_DLTDDT&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ACT_BY&quot;               := :new.&quot;USR_LAS_ACT_BY&quot;;
  t_usr_NEW_rec.&quot;USR_ORIGCRTR&quot;                 := :new.&quot;USR_ORIGCRTR&quot;;
  t_usr_NEW_rec.&quot;USR_ORIGCRTRLOGDIN&quot;           := :new.&quot;USR_ORIGCRTRLOGDIN&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_ACT_BY_LOGDIN&quot;        := :new.&quot;USR_LAS_ACT_BY_LOGDIN&quot;;
  t_usr_NEW_rec.&quot;USR_UNIVID&quot;                   := :new.&quot;USR_UNIVID&quot;;
  t_usr_NEW_rec.&quot;USR_FRSTNAM&quot;                  := :new.&quot;USR_FRSTNAM&quot;;
  t_usr_NEW_rec.&quot;USR_MDLENAM&quot;                  := :new.&quot;USR_MDLENAM&quot;;
  t_usr_NEW_rec.&quot;USR_LAS_NAM&quot;                  := :new.&quot;USR_LAS_NAM&quot;;
  t_usr_NEW_rec.&quot;USR_DT_OF_BRTH&quot;               := :new.&quot;USR_DT_OF_BRTH&quot;;
  t_usr_NEW_rec.&quot;USR_GNDRCODE&quot;                 := :new.&quot;USR_GNDRCODE&quot;;
  t_usr_NEW_rec.&quot;USR_PMRYLANG&quot;                 := :new.&quot;USR_PMRYLANG&quot;;
  t_usr_NEW_rec.&quot;MBUR_MEDICAID&quot;                := :new.&quot;MBUR_MEDICAID&quot;;
  t_usr_NEW_rec.&quot;MBUR_HICNID&quot;                  := :new.&quot;MBUR_HICNID&quot;;
  t_usr_OLD_rec.&quot;USR_FRSTATVD&quot;                 := :old.&quot;USR_FRSTATVD&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ATVD&quot;                 := :old.&quot;USR_LAS_ATVD&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_DCTD&quot;                 := :old.&quot;USR_LAS_DCTD&quot;;
  t_usr_OLD_rec.&quot;USR_WKFWISTCID&quot;               := :old.&quot;USR_WKFWISTCID&quot;;
  t_usr_OLD_rec.&quot;USR_CNV_ID&quot;                   := :old.&quot;USR_CNV_ID&quot;;
  t_usr_OLD_rec.&quot;USR_OWNRCHNDFLAG&quot;             := :old.&quot;USR_OWNRCHNDFLAG&quot;;
  t_usr_OLD_rec.&quot;USR_OWNRCHNDCNT&quot;              := :old.&quot;USR_OWNRCHNDCNT&quot;;
  t_usr_OLD_rec.&quot;USR_SBTDAT&quot;                   := :old.&quot;USR_SBTDAT&quot;;
  t_usr_OLD_rec.&quot;USR_ID&quot;                       := :old.&quot;USR_ID&quot;;
  t_usr_OLD_rec.&quot;PRV_PLN_ID&quot;                   := :old.&quot;PRV_PLN_ID&quot;;
  t_usr_OLD_rec.&quot;PRV_UPN_ID&quot;                   := :old.&quot;PRV_UPN_ID&quot;;
  t_usr_
OLD_rec.&quot;PRV_FED_TAX&quot;                  := :old.&quot;PRV_FED_TAX&quot;;
  t_usr_OLD_rec.&quot;PRV_TOTLPNTS&quot;                 := :old.&quot;PRV_TOTLPNTS&quot;;
  t_usr_OLD_rec.&quot;PRV_TOTLPNTSIN_PCTC&quot;          := :old.&quot;PRV_TOTLPNTSIN_PCTC&quot;;
  t_usr_OLD_rec.&quot;PRV_TOTLPAYRMEMS&quot;             := :old.&quot;PRV_TOTLPAYRMEMS&quot;;
  t_usr_OLD_rec.&quot;PRV_TOTLPAYRMEMSIN_PCTC&quot;      := :old.&quot;PRV_TOTLPAYRMEMSIN_PCTC&quot;;
  t_usr_OLD_rec.&quot;PRV_ACNGNEW_PNTS&quot;             := :old.&quot;PRV_ACNGNEW_PNTS&quot;;
  t_usr_OLD_rec.&quot;PRV_ATHDFOR_AUMTDTMN&quot;         := :old.&quot;PRV_ATHDFOR_AUMTDTMN&quot;;
  t_usr_OLD_rec.&quot;PRV_INSCID&quot;                   := :old.&quot;PRV_INSCID&quot;;
  t_usr_OLD_rec.&quot;PRV_IS_ADM&quot;                   := :old.&quot;PRV_IS_ADM&quot;;
  t_usr_OLD_rec.&quot;PRV_PCP_IND&quot;                  := :old.&quot;PRV_PCP_IND&quot;;
  t_usr_OLD_rec.&quot;PRV_ID&quot;                       := :old.&quot;PRV_ID&quot;;
  t_usr_OLD_rec.&quot;MBUR_DT_OF_DTH&quot;               := :old.&quot;MBUR_DT_OF_DTH&quot;;
  t_usr_OLD_rec.&quot;MBUR_ELBL&quot;                    := :old.&quot;MBUR_ELBL&quot;;
  t_usr_OLD_rec.&quot;MBUR_COB&quot;                     := :old.&quot;MBUR_COB&quot;;
  t_usr_OLD_rec.&quot;MBUR_COB_NAM&quot;                 := :old.&quot;MBUR_COB_NAM&quot;;
  t_usr_OLD_rec.&quot;MBUR_INSCID_AT_OTHRINSR&quot;      := :old.&quot;MBUR_INSCID_AT_OTHRINSR&quot;;
  t_usr_OLD_rec.&quot;MBUR_PMRYINSR&quot;                := :old.&quot;MBUR_PMRYINSR&quot;;
  t_usr_OLD_rec.&quot;MBUR_CRDTIND&quot;                 := :old.&quot;MBUR_CRDTIND&quot;;
  t_usr_OLD_rec.&quot;MBUR_INSCID&quot;                  := :old.&quot;MBUR_INSCID&quot;;
  t_usr_OLD_rec.&quot;MBUR_SCL_SCTYNMBR&quot;            := :old.&quot;MBUR_SCL_SCTYNMBR&quot;;
  t_usr_OLD_rec.&quot;MBUR_CNFTCNCT&quot;                := :old.&quot;MBUR_CNFTCNCT&quot;;
  t_usr_OLD_rec.&quot;MBUR_DNF_CODE&quot;                := :old.&quot;MBUR_DNF_CODE&quot;;
  t_usr_OLD_rec.&quot;MBUR_ID&quot;                      := :old.&quot;MBUR_ID&quot;;
  t_usr_OLD_rec.&quot;FF_ID&quot;                        := :old.&quot;FF_ID&quot;;
  t_usr_OLD_rec.&quot;PAYR_EMPEID&quot;                  := :old.&quot;PAYR_EMPEID&quot;;
  t_usr_OLD_rec.&quot;PAYR_SCL_SCTYNMBR&quot;            := :old.&quot;PAYR_SCL_SCTYNMBR&quot;;
  t_usr_OLD_rec.&quot;PAYR_STRTOF_YR&quot;               := :old.&quot;PAYR_STRTOF_YR&quot;;
  t_usr_OLD_rec.&quot;PAYR_HREDDT&quot;                  := :old.&quot;PAYR_H
REDDT&quot;;
  t_usr_OLD_rec.&quot;PAYR_TMTDDT&quot;                  := :old.&quot;PAYR_TMTDDT&quot;;
  t_usr_OLD_rec.&quot;PAYR_THNKHLTHSTRTDT&quot;          := :old.&quot;PAYR_THNKHLTHSTRTDT&quot;;
  t_usr_OLD_rec.&quot;PAYR_THNKHLTHEND_DT&quot;          := :old.&quot;PAYR_THNKHLTHEND_DT&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITBY_ALL_USR_ROLS&quot; := :old.&quot;PAYR_WKLDLMITBY_ALL_USR_ROLS&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITBY_PMRYUSR_ROLE&quot; := :old.&quot;PAYR_WKLDLMITBY_PMRYUSR_ROLE&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITBY&quot;              := :old.&quot;PAYR_WKLDLMITBY&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITFNALDCDR&quot;        := :old.&quot;PAYR_WKLDLMITFNALDCDR&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITBY_ROLEBY_SVTY&quot;  := :old.&quot;PAYR_WKLDLMITBY_ROLEBY_SVTY&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMITBY_TOTLWKLD&quot;     := :old.&quot;PAYR_WKLDLMITBY_TOTLWKLD&quot;;
  t_usr_OLD_rec.&quot;PAYR_WKLDLMTDBY_WORKTYP&quot;      := :old.&quot;PAYR_WKLDLMTDBY_WORKTYP&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_MON&quot;          := :old.&quot;PAYR_REG_DY_OFF_MON&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_TUES&quot;         := :old.&quot;PAYR_REG_DY_OFF_TUES&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_WED&quot;          := :old.&quot;PAYR_REG_DY_OFF_WED&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_THRS&quot;         := :old.&quot;PAYR_REG_DY_OFF_THRS&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_FRI&quot;          := :old.&quot;PAYR_REG_DY_OFF_FRI&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_SAT&quot;          := :old.&quot;PAYR_REG_DY_OFF_SAT&quot;;
  t_usr_OLD_rec.&quot;PAYR_REG_DY_OFF_SUN&quot;          := :old.&quot;PAYR_REG_DY_OFF_SUN&quot;;
  t_usr_OLD_rec.&quot;PAYR_SVTYIDX&quot;                 := :old.&quot;PAYR_SVTYIDX&quot;;
  t_usr_OLD_rec.&quot;PAYR_TOTLWKLD&quot;                := :old.&quot;PAYR_TOTLWKLD&quot;;
  t_usr_OLD_rec.&quot;PAYR_CASERQTS&quot;                := :old.&quot;PAYR_CASERQTS&quot;;
  t_usr_OLD_rec.&quot;PAYR_CASS&quot;                    := :old.&quot;PAYR_CASS&quot;;
  t_usr_OLD_rec.&quot;PAYR_UM_RQTS&quot;                 := :old.&quot;PAYR_UM_RQTS&quot;;
  t_usr_OLD_rec.&quot;PAYR_UM_EVTS&quot;                 := :old.&quot;PAYR_UM_EVTS&quot;;
  t_usr_OLD_rec.&quot;PAYR_CM_PRJ_RQTS&quot;             := :old.&quot;PAYR_CM_PRJ_RQTS&quot;;
  t_usr_OLD_rec.&quot;PAYR_CM_PRJS&quot;                 := :old.&quot;PAYR_CM_PRJS&quot;;
  t_usr_OLD_rec.&quot;PAYR_REVWRQTS&quot;                := :old.&quot;PAYR_REVWRQT
S&quot;;
  t_usr_OLD_rec.&quot;PAYR_ID&quot;                      := :old.&quot;PAYR_ID&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_DCTDBY&quot;               := :old.&quot;USR_LAS_DCTDBY&quot;;
  t_usr_OLD_rec.&quot;USR_FRSTATVDBY&quot;               := :old.&quot;USR_FRSTATVDBY&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ATVDBY&quot;               := :old.&quot;USR_LAS_ATVDBY&quot;;
  t_usr_OLD_rec.&quot;USR_RATNAPVL&quot;                 := :old.&quot;USR_RATNAPVL&quot;;
  t_usr_OLD_rec.&quot;USR_RFNGWKFWTSK&quot;              := :old.&quot;USR_RFNGWKFWTSK&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSRFNGTSK&quot;              := :old.&quot;USR_PRVSRFNGTSK&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSRFNGTSK_PRMN&quot;         := :old.&quot;USR_PRVSRFNGTSK_PRMN&quot;;
  t_usr_OLD_rec.&quot;USR_OWNR&quot;                     := :old.&quot;USR_OWNR&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSOWNR&quot;                 := :old.&quot;USR_PRVSOWNR&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSSNDR&quot;                 := :old.&quot;USR_PRVSSNDR&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSOWNRPRMN&quot;             := :old.&quot;USR_PRVSOWNRPRMN&quot;;
  t_usr_OLD_rec.&quot;USR_TNFR&quot;                     := :old.&quot;USR_TNFR&quot;;
  t_usr_OLD_rec.&quot;USR_PRVSTNFR&quot;                 := :old.&quot;USR_PRVSTNFR&quot;;
  t_usr_OLD_rec.&quot;USR_SBTDBY&quot;                   := :old.&quot;USR_SBTDBY&quot;;
  t_usr_OLD_rec.&quot;MBUR_RCPTTRKG&quot;                := :old.&quot;MBUR_RCPTTRKG&quot;;
  t_usr_OLD_rec.&quot;MBUR_LAS_REVW&quot;                := :old.&quot;MBUR_LAS_REVW&quot;;
  t_usr_OLD_rec.&quot;PRV_PCP_CAT&quot;                  := :old.&quot;PRV_PCP_CAT&quot;;
  t_usr_OLD_rec.&quot;PRV_PVDRTYP&quot;                  := :old.&quot;PRV_PVDRTYP&quot;;
  t_usr_NEW_rec.&quot;PRV_SPLRTYP&quot;                  := :new.&quot;PRV_SPLRTYP&quot;;
  t_usr_OLD_rec.&quot;USR_ECTY&quot;                     := :old.&quot;USR_ECTY&quot;;
  t_usr_OLD_rec.&quot;USR_NAM_SFIX&quot;                 := :old.&quot;USR_NAM_SFIX&quot;;
  t_usr_OLD_rec.&quot;USR_NAM_PRFX&quot;                 := :old.&quot;USR_NAM_PRFX&quot;;
  t_usr_OLD_rec.&quot;MBUR_RLSPTO_SBCR&quot;             := :old.&quot;MBUR_RLSPTO_SBCR&quot;;
  t_usr_OLD_rec.&quot;PAYR_CSTMWKLDLMIT&quot;            := :old.&quot;PAYR_CSTMWKLDLMIT&quot;;
  t_usr_OLD_rec.&quot;PAYR_ACTLWKLD&quot;                := :old.&quot;PAYR_ACTLWKLD&quot;;
  t_usr_OLD_rec.&quot;USR_CNCTINFO&quot;                 := :old.&quot;USR_CNCTINFO&quot;;
  t_usr_OLD_rec.&quot;USR_MRGEMSTR&quot;                 := :old.&quot;USR_MRGEM
STR&quot;;
  t_usr_OLD_rec.&quot;PRV_PVDRPAYRDAT&quot;              := :old.&quot;PRV_PVDRPAYRDAT&quot;;
  t_usr_OLD_rec.&quot;MBUR_SBCR&quot;                    := :old.&quot;MBUR_SBCR&quot;;
  t_usr_OLD_rec.&quot;PAYR_PAYRPAYRDAT&quot;             := :old.&quot;PAYR_PAYRPAYRDAT&quot;;
  t_usr_OLD_rec.&quot;PAYR_BCK1&quot;                    := :old.&quot;PAYR_BCK1&quot;;
  t_usr_OLD_rec.&quot;PAYR_SVSR&quot;                    := :old.&quot;PAYR_SVSR&quot;;
  t_usr_OLD_rec.&quot;PAYR_BCK2&quot;                    := :old.&quot;PAYR_BCK2&quot;;
  t_usr_OLD_rec.&quot;PAYR_BCK3&quot;                    := :old.&quot;PAYR_BCK3&quot;;
  t_usr_OLD_rec.&quot;PAYR_RGNLSNGS&quot;                := :old.&quot;PAYR_RGNLSNGS&quot;;
  t_usr_OLD_rec.&quot;PAYR_STCYNOTEPRPS&quot;            := :old.&quot;PAYR_STCYNOTEPRPS&quot;;
  t_usr_OLD_rec.&quot;MBUR_MEMBPAYRDAT&quot;             := :old.&quot;MBUR_MEMBPAYRDAT&quot;;
  t_usr_OLD_rec.&quot;CLASSTYPE&quot;                    := :old.&quot;CLASSTYPE&quot;;
  t_usr_OLD_rec.&quot;USR_C4C_ID&quot;                   := :old.&quot;USR_C4C_ID&quot;;
  t_usr_OLD_rec.&quot;USR_CRTD&quot;                     := :old.&quot;USR_CRTD&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ACT&quot;                  := :old.&quot;USR_LAS_ACT&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ACT_ACTRTYP&quot;          := :old.&quot;USR_LAS_ACT_ACTRTYP&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ACT_TIM&quot;              := :old.&quot;USR_LAS_ACT_TIM&quot;;
  t_usr_OLD_rec.&quot;USR_OBJ_STT&quot;                  := :old.&quot;USR_OBJ_STT&quot;;
  t_usr_OLD_rec.&quot;USR_VERS&quot;                     := :old.&quot;USR_VERS&quot;;
  t_usr_OLD_rec.&quot;USR_VSBT&quot;                     := :old.&quot;USR_VSBT&quot;;
  t_usr_OLD_rec.&quot;USR_DLTDDT&quot;                   := :old.&quot;USR_DLTDDT&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ACT_BY&quot;               := :old.&quot;USR_LAS_ACT_BY&quot;;
  t_usr_OLD_rec.&quot;USR_ORIGCRTR&quot;                 := :old.&quot;USR_ORIGCRTR&quot;;
  t_usr_OLD_rec.&quot;USR_ORIGCRTRLOGDIN&quot;           := :old.&quot;USR_ORIGCRTRLOGDIN&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_ACT_BY_LOGDIN&quot;        := :old.&quot;USR_LAS_ACT_BY_LOGDIN&quot;;
  t_usr_OLD_rec.&quot;USR_UNIVID&quot;                   := :old.&quot;USR_UNIVID&quot;;
  t_usr_OLD_rec.&quot;USR_FRSTNAM&quot;                  := :old.&quot;USR_FRSTNAM&quot;;
  t_usr_OLD_rec.&quot;USR_MDLENAM&quot;                  := :old.&quot;USR_MDLENAM&quot;;
  t_usr_OLD_rec.&quot;USR_LAS_NAM&quot;                  := :old.&quot;USR_LAS_NAM&quot;;
  t
_usr_OLD_rec.&quot;USR_DT_OF_BRTH&quot;               := :old.&quot;USR_DT_OF_BRTH&quot;;
  t_usr_OLD_rec.&quot;USR_GNDRCODE&quot;                 := :old.&quot;USR_GNDRCODE&quot;;
  t_usr_OLD_rec.&quot;USR_PMRYLANG&quot;                 := :old.&quot;USR_PMRYLANG&quot;;
  t_usr_OLD_rec.&quot;MBUR_MEDICAID&quot;                := :old.&quot;MBUR_MEDICAID&quot;;
  t_usr_OLD_rec.&quot;MBUR_HICNID&quot;                  := :old.&quot;MBUR_HICNID&quot;;
  pkg_dac_aggr.RowProcessForUSR(t_usr_OLD_rec,t_usr_NEW_rec);
END;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
7
</td>
<td>
THH_C4C
</td>
<td>
TRG_USR_TZBUFFER
</td>
<td>
BEFORE EACH ROW
</td>
<td>
INSERT OR UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_USR
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_usr_tzbuffer before insert or update on t_usr
for each row

</td>
<td>
PL/SQL
</td>
<td>
begin
  if :new.usr_dt_of_brth is not null then
    :new.usr_dt_of_brth := trunc(:new.usr_dt_of_brth) + 12/24;
  end if;
  if :new.mbur_dt_of_dth is not null then
    :new.mbur_dt_of_dth := trunc(:new.mbur_dt_of_dth) + 12/24;
  end if;
end;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
8
</td>
<td>
THH_C4C
</td>
<td>
TRG_WTSK_AUDITINSERT
</td>
<td>
BEFORE EACH ROW
</td>
<td>
INSERT
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_WKFWTSK
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
&quot;THH_C4C&quot;.&quot;TRG_WTSK_AUDITINSERT&quot; BEFORE INSERT ON T_WKFWTSK FOR EACH ROW

</td>
<td>
PL/SQL
</td>
<td>
DECLARE
  /* save current date */
  curr_date DATE;
BEGIN 
  curr_date := current_date;

  IF :new.wtsk_crtd IS NULL THEN 
    :new.wtsk_crtd := curr_date; 
  END IF; 

  IF :new.wtsk_las_act_tim IS NULL THEN 
    :new.wtsk_las_act_tim := curr_date; 
  END IF; 

  IF :new.wtsk_las_act IS NULL THEN 
    :new.wtsk_las_act := 1; 
  END IF; 

  IF :new.wtsk_obj_stt IS NULL THEN 
    :new.wtsk_obj_stt := 1; 
  END IF; 

  IF :new.wtsk_vers IS NULL THEN 
    :new.wtsk_vers := 0; 
  END IF; 

  IF :new.wtsk_vsbt IS NULL THEN 
    :new.wtsk_vsbt := 1001; 
  END IF; 

  IF :new.wtsk_las_act_by IS NULL THEN 
    :new.wtsk_las_act_by := 1; 
  END IF; 

  IF :new.wtsk_origcrtr IS NULL THEN 
    :new.wtsk_origcrtr := 1; 
  END IF; 

  IF :new.wtsk_origcrtrlogdin IS NULL THEN 
    :new.wtsk_origcrtrlogdin := 1; 
  END IF; 

  IF :new.wtsk_las_act_by_logdin IS NULL THEN 
    :new.wtsk_las_act_by_logdin := 1; 
  END IF; 

  INSERT INTO a_wkfwtsk 
  ( 
   classtype, 
   wtsk_c4c_id, 
   wtsk_crtd, 
   wtsk_las_act, 
   wtsk_las_act_actrtyp, 
   wtsk_obj_stt, 
   wtsk_vers, 
   wtsk_vsbt, 
   wtsk_dltddt, 
   wtsk_las_act_by, 
   wtsk_origcrtr, 
   wtsk_origcrtrlogdin, 
   wtsk_las_act_by_logdin, 
   wtsk_univid, 
   wtsk_wkfwtsk_typ, 
   wtsk_tsk_nam, 
   wtsk_tsk_dscn, 
   wtsk_rfrdobj_id, 
   wtsk_rfrdobj_typ, 
   wtsk_wkfwistcid, 
   wtsk_cnv_id, 
   wtsk_ddln_dt, 
   wtsk_ddln_tim_in_dy, 
   wtsk_ddlnact, 
   wtsk_currstt, 
   wtsk_tsk_grp, 
   wtsk_tnfr, 
   wtsk_prvstnfr, 
   wtsk_id, 
   valid_from, 
   valid_to , 
   wtsk_audid, 
   wtsk_prev_audid, 
   wtsk_next_audid
  ) 
  VALUES 
  ( 
   :new.classtype,
   :new.wtsk_c4c_id,
   :new.wtsk_crtd,
   :new.wtsk_las_act,
   :new.wtsk_las_act_actrtyp,
   :new.wtsk_obj_stt,
   :new.wtsk_vers,
   :new.wtsk_vsbt,
   :new.wtsk_dltddt,
   :new.wtsk_las_act_by,
   :new.wtsk_origcrtr,
   :new.wtsk_origcrtrlogdin,
   :new.wtsk_las_act_by_logdin,
   :new.wtsk_univid,
   :new.wtsk_wkfwtsk_typ,
   :new.wtsk_tsk_nam,
   :new.wtsk_tsk_dscn,

   :new.wtsk_rfrdobj_id,
   :new.wtsk_rfrdobj_typ,
   :new.wtsk_wkfwistcid,
   :new.wtsk_cnv_id,
   :new.wtsk_ddln_dt,
   :new.wtsk_ddln_tim_in_dy,
   :new.wtsk_ddlnact,
   :new.wtsk_currstt,
   :new.wtsk_tsk_grp,
   :new.wtsk_tnfr,
   :new.wtsk_prvstnfr, 
   :new.wtsk_id, 
   :new.wtsk_las_act_tim, 
   NULL, 
   u_wkfwtsk.NEXTVAL, 
   NULL, 
   NULL
  );
END;










</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
9
</td>
<td>
THH_C4C
</td>
<td>
TRG_WTSK_AUDITUPDATE
</td>
<td>
BEFORE EACH ROW
</td>
<td>
UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_WKFWTSK
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_wtsk_auditupdate BEFORE
  UPDATE
    ON T_WKFWTSK FOR EACH ROW
</td>
<td>
PL/SQL
</td>
<td>
DECLARE
    /* last audit ID of record */
    last_audid NUMBER;
  BEGIN
    /* retrieve last audit ID of record */
    BEGIN
      SELECT
        wtsk_audid
      INTO
        last_audid
      FROM
        a_wkfwtsk
      WHERE
        wtsk_id            = :old.wtsk_id
      AND wtsk_next_audid IS NULL
      AND rownum           &lt; 2 FOR UPDATE;
    EXCEPTION
    WHEN NO_DATA_FOUND THEN
      last_audid := NULL;
    END;
    /* LastActionTime has not changed - no new transaction */
    IF :old.wtsk_las_act_tim = :new.wtsk_las_act_tim THEN
      UPDATE
        a_wkfwtsk
      SET
        classtype              = :new.classtype,
        wtsk_c4c_id            = :new.wtsk_c4c_id,
        wtsk_crtd              = :new.wtsk_crtd,
        wtsk_las_act           = :new.wtsk_las_act,
        wtsk_las_act_actrtyp   = :new.wtsk_las_act_actrtyp,
        wtsk_obj_stt           = :new.wtsk_obj_stt,
        wtsk_vers              = :new.wtsk_vers,
        wtsk_vsbt              = :new.wtsk_vsbt,
        wtsk_dltddt            = :new.wtsk_dltddt,
        wtsk_las_act_by        = :new.wtsk_las_act_by,
        wtsk_origcrtr          = :new.wtsk_origcrtr,
        wtsk_origcrtrlogdin    = :new.wtsk_origcrtrlogdin,
        wtsk_las_act_by_logdin = :new.wtsk_las_act_by_logdin,
        wtsk_univid            = :new.wtsk_univid,
        wtsk_wkfwtsk_typ       = :new.wtsk_wkfwtsk_typ,
        wtsk_tsk_nam           = :new.wtsk_tsk_nam,
        wtsk_tsk_dscn          = :new.wtsk_tsk_dscn,
        wtsk_rfrdobj_id        = :new.wtsk_rfrdobj_id,
        wtsk_rfrdobj_typ       = :new.wtsk_rfrdobj_typ,
        wtsk_wkfwistcid        = :new.wtsk_wkfwistcid,
        wtsk_cnv_id            = :new.wtsk_cnv_id,
        wtsk_ddln_dt           = :new.wtsk_ddln_dt,
        wtsk_ddln_tim_in_dy    = :new.wtsk_ddln_tim_in_dy,
        wtsk_ddlnact           = :new.wtsk_ddlnact,
        wtsk_currstt           = :new.wtsk_currstt,
        wtsk_tsk_grp           = :new.wtsk_tsk_grp,
        wtsk_tnfr
    = :new.wtsk_tnfr,
        wtsk_prvstnfr          = :new.wtsk_prvstnfr
      WHERE
        wtsk_audid = last_audid;
      /* LastActionTime has changed - new transaction in place */
    ELSE
      /* insert new values introduced by new transaction */
      INSERT
      INTO
        a_wkfwtsk
        (
          classtype,
          wtsk_c4c_id,
          wtsk_crtd,
          wtsk_las_act,
          wtsk_las_act_actrtyp,
          wtsk_obj_stt,
          wtsk_vers,
          wtsk_vsbt,
          wtsk_dltddt,
          wtsk_las_act_by,
          wtsk_origcrtr,
          wtsk_origcrtrlogdin,
          wtsk_las_act_by_logdin,
          wtsk_univid,
          wtsk_wkfwtsk_typ,
          wtsk_tsk_nam,
          wtsk_tsk_dscn,
          wtsk_rfrdobj_id,
          wtsk_rfrdobj_typ,
          wtsk_wkfwistcid,
          wtsk_cnv_id,
          wtsk_ddln_dt,
          wtsk_ddln_tim_in_dy,
          wtsk_ddlnact,
          wtsk_currstt,
          wtsk_tsk_grp,
          wtsk_tnfr,
          wtsk_prvstnfr,
          wtsk_id,
          valid_from,
          valid_to,
          wtsk_audid,
          wtsk_prev_audid,
          wtsk_next_audid
        )
        VALUES
        (
          :new.classtype,
          :new.wtsk_c4c_id,
          :new.wtsk_crtd,
          :new.wtsk_las_act,
          :new.wtsk_las_act_actrtyp,
          :new.wtsk_obj_stt,
          :new.wtsk_vers,
          :new.wtsk_vsbt,
          :new.wtsk_dltddt,
          :new.wtsk_las_act_by,
          :new.wtsk_origcrtr,
          :new.wtsk_origcrtrlogdin,
          :new.wtsk_las_act_by_logdin,
          :new.wtsk_univid,
          :new.wtsk_wkfwtsk_typ,
          :new.wtsk_tsk_nam,
          :new.wtsk_tsk_dscn,
          :new.wtsk_rfrdobj_id,
          :new.wtsk_rfrdobj_typ,
          :new.wtsk_wkfwistcid,
          :new.wtsk_cnv_id,
          :new.wtsk_ddln_dt,
          :new.wtsk_ddln_tim_in_dy,
          :new.wtsk_ddlnact,
          :new.wtsk_currstt,
          :new.wtsk_tsk_grp,
          :new.wtsk_tnfr,

       :new.wtsk_prvstnfr,
          :new.wtsk_id,
          :new.wtsk_las_act_tim,
          NULL,
          u_wkfwtsk.NEXTVAL,
          last_audid,
          NULL
        );
      /* update last audit record's valid_to to new LastActionTime
      and next audit ID to newly inserted record's sequence number
      */
      UPDATE
        a_wkfwtsk
      SET
        valid_to        = :new.wtsk_las_act_tim,
        wtsk_next_audid = u_wkfwtsk.CURRVAL
      WHERE
        wtsk_audid = last_audid;
    END IF;
  END;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
10
</td>
<td>
THH_C4C
</td>
<td>
TRG_WTSC_AUDITINSERT
</td>
<td>
BEFORE EACH ROW
</td>
<td>
INSERT
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_WKFWTSK_STT_CNGE
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
&quot;THH_C4C&quot;.&quot;TRG_WTSC_AUDITINSERT&quot; BEFORE INSERT ON T_WKFWTSK_STT_CNGE FOR EACH ROW

</td>
<td>
PL/SQL
</td>
<td>
DECLARE
  /* save current date */
  curr_date DATE;
BEGIN 
  curr_date := current_date;

  IF :new.wtsc_crtd IS NULL THEN 
    :new.wtsc_crtd := curr_date; 
  END IF; 

  IF :new.wtsc_las_act_tim IS NULL THEN 
    :new.wtsc_las_act_tim := curr_date; 
  END IF; 

  IF :new.wtsc_las_act IS NULL THEN 
    :new.wtsc_las_act := 1; 
  END IF; 

  IF :new.wtsc_obj_stt IS NULL THEN 
    :new.wtsc_obj_stt := 1; 
  END IF; 

  IF :new.wtsc_vers IS NULL THEN 
    :new.wtsc_vers := 0; 
  END IF; 

  IF :new.wtsc_vsbt IS NULL THEN 
    :new.wtsc_vsbt := 1001; 
  END IF; 

  IF :new.wtsc_las_act_by IS NULL THEN 
    :new.wtsc_las_act_by := 1; 
  END IF; 

  IF :new.wtsc_origcrtr IS NULL THEN 
    :new.wtsc_origcrtr := 1; 
  END IF; 

  IF :new.wtsc_origcrtrlogdin IS NULL THEN 
    :new.wtsc_origcrtrlogdin := 1; 
  END IF; 

  IF :new.wtsc_las_act_by_logdin IS NULL THEN 
    :new.wtsc_las_act_by_logdin := 1; 
  END IF; 

  INSERT INTO a_wkfwtsk_stt_cnge 
  ( 
   classtype, 
   wtsc_c4c_id, 
   wtsc_crtd, 
   wtsc_las_act, 
   wtsc_las_act_actrtyp, 
   wtsc_obj_stt, 
   wtsc_vers, 
   wtsc_vsbt, 
   wtsc_dltddt, 
   wtsc_las_act_by, 
   wtsc_origcrtr, 
   wtsc_origcrtrlogdin, 
   wtsc_las_act_by_logdin, 
   wtsc_univid, 
   wtsc_cnge, 
   wtsc_tpnt, 
   wtsc_ownrchndflag, 
   wtsc_dat__cmmt, 
   wtsc_dat__longprm, 
   wtsc_dat__strgprm, 
   wtsc_ogtr, 
   wtsc_ownr, 
   wtsc_prvsownr, 
   wtsc_prvsownrprmn, 
   wtsc_tsk, 
   wtsc_prvsstt, 
   wtsc_id, 
   valid_from, 
   valid_to , 
   wtsc_audid, 
   wtsc_prev_audid, 
   wtsc_next_audid
  ) 
  VALUES 
  ( 
   :new.classtype,
   :new.wtsc_c4c_id,
   :new.wtsc_crtd,
   :new.wtsc_las_act,
   :new.wtsc_las_act_actrtyp,
   :new.wtsc_obj_stt,
   :new.wtsc_vers,
   :new.wtsc_vsbt,
   :new.wtsc_dltddt,
   :new.wtsc_las_act_by,
   :new.wtsc_origcrtr,
   :new.wtsc_origcrtrlogdin,
   :new.wtsc_las_act_by_logdin,
   :new.wtsc_univid,
   :new.wtsc_cnge,
   :new.wtsc_tpnt,
   :new.wtsc_ownrchndflag,
   :new.wtsc_dat__cmmt,
   :new.wtsc_dat__lon
gprm,
   :new.wtsc_dat__strgprm,
   :new.wtsc_ogtr,
   :new.wtsc_ownr,
   :new.wtsc_prvsownr,
   :new.wtsc_prvsownrprmn,
   :new.wtsc_tsk,
   :new.wtsc_prvsstt, 
   :new.wtsc_id, 
   :new.wtsc_las_act_tim, 
   NULL, 
   u_wkfwtsk_stt_cnge.NEXTVAL, 
   NULL, 
   NULL
  );
END;










</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
<tr>
<td>
11
</td>
<td>
THH_C4C
</td>
<td>
TRG_WTSC_AUDITUPDATE
</td>
<td>
BEFORE EACH ROW
</td>
<td>
UPDATE
</td>
<td>
THH_C4C
</td>
<td>
TABLE
</td>
<td>
T_WKFWTSK_STT_CNGE
</td>
<td>
&nbsp;
</td>
<td>
REFERENCING NEW AS NEW OLD AS OLD
</td>
<td>
&nbsp;
</td>
<td>
ENABLED
</td>
<td>
trg_wtsc_auditupdate BEFORE
  UPDATE
    ON T_WKFWTSK_STT_CNGE FOR EACH ROW
</td>
<td>
PL/SQL
</td>
<td>
DECLARE
    /* last audit ID of record */
    last_audid NUMBER;
  BEGIN
    /* retrieve last audit ID of record */
    BEGIN
      SELECT
        wtsc_audid
      INTO
        last_audid
      FROM
        a_wkfwtsk_stt_cnge
      WHERE
        wtsc_id            = :old.wtsc_id
      AND wtsc_next_audid IS NULL
      AND rownum           &lt; 2 FOR UPDATE;
    EXCEPTION
    WHEN NO_DATA_FOUND THEN
      last_audid := NULL;
    END;
    /* LastActionTime has not changed - no new transaction */
    IF :old.wtsc_las_act_tim = :new.wtsc_las_act_tim THEN
      UPDATE
        a_wkfwtsk_stt_cnge
      SET
        classtype              = :new.classtype,
        wtsc_c4c_id            = :new.wtsc_c4c_id,
        wtsc_crtd              = :new.wtsc_crtd,
        wtsc_las_act           = :new.wtsc_las_act,
        wtsc_las_act_actrtyp   = :new.wtsc_las_act_actrtyp,
        wtsc_obj_stt           = :new.wtsc_obj_stt,
        wtsc_vers              = :new.wtsc_vers,
        wtsc_vsbt              = :new.wtsc_vsbt,
        wtsc_dltddt            = :new.wtsc_dltddt,
        wtsc_las_act_by        = :new.wtsc_las_act_by,
        wtsc_origcrtr          = :new.wtsc_origcrtr,
        wtsc_origcrtrlogdin    = :new.wtsc_origcrtrlogdin,
        wtsc_las_act_by_logdin = :new.wtsc_las_act_by_logdin,
        wtsc_univid            = :new.wtsc_univid,
        wtsc_cnge              = :new.wtsc_cnge,
        wtsc_tpnt              = :new.wtsc_tpnt,
        wtsc_ownrchndflag      = :new.wtsc_ownrchndflag,
        wtsc_dat__cmmt         = :new.wtsc_dat__cmmt,
        wtsc_dat__longprm      = :new.wtsc_dat__longprm,
        wtsc_dat__strgprm      = :new.wtsc_dat__strgprm,
        wtsc_ogtr              = :new.wtsc_ogtr,
        wtsc_ownr              = :new.wtsc_ownr,
        wtsc_prvsownr          = :new.wtsc_prvsownr,
        wtsc_prvsownrprmn      = :new.wtsc_prvsownrprmn,
        wtsc_tsk               = :new.wtsc_tsk,
        wtsc_prvsstt           = :new.wtsc_prvsstt
      WHERE
        wtsc
_audid = last_audid;
      /* LastActionTime has changed - new transaction in place */
    ELSE
      /* insert new values introduced by new transaction */
      INSERT
      INTO
        a_wkfwtsk_stt_cnge
        (
          classtype,
          wtsc_c4c_id,
          wtsc_crtd,
          wtsc_las_act,
          wtsc_las_act_actrtyp,
          wtsc_obj_stt,
          wtsc_vers,
          wtsc_vsbt,
          wtsc_dltddt,
          wtsc_las_act_by,
          wtsc_origcrtr,
          wtsc_origcrtrlogdin,
          wtsc_las_act_by_logdin,
          wtsc_univid,
          wtsc_cnge,
          wtsc_tpnt,
          wtsc_ownrchndflag,
          wtsc_dat__cmmt,
          wtsc_dat__longprm,
          wtsc_dat__strgprm,
          wtsc_ogtr,
          wtsc_ownr,
          wtsc_prvsownr,
          wtsc_prvsownrprmn,
          wtsc_tsk,
          wtsc_prvsstt,
          wtsc_id,
          valid_from,
          valid_to,
          wtsc_audid,
          wtsc_prev_audid,
          wtsc_next_audid
        )
        VALUES
        (
          :new.classtype,
          :new.wtsc_c4c_id,
          :new.wtsc_crtd,
          :new.wtsc_las_act,
          :new.wtsc_las_act_actrtyp,
          :new.wtsc_obj_stt,
          :new.wtsc_vers,
          :new.wtsc_vsbt,
          :new.wtsc_dltddt,
          :new.wtsc_las_act_by,
          :new.wtsc_origcrtr,
          :new.wtsc_origcrtrlogdin,
          :new.wtsc_las_act_by_logdin,
          :new.wtsc_univid,
          :new.wtsc_cnge,
          :new.wtsc_tpnt,
          :new.wtsc_ownrchndflag,
          :new.wtsc_dat__cmmt,
          :new.wtsc_dat__longprm,
          :new.wtsc_dat__strgprm,
          :new.wtsc_ogtr,
          :new.wtsc_ownr,
          :new.wtsc_prvsownr,
          :new.wtsc_prvsownrprmn,
          :new.wtsc_tsk,
          :new.wtsc_prvsstt,
          :new.wtsc_id,
          :new.wtsc_las_act_tim,
          NULL,
          u_wkfwtsk_stt_cnge.NEXTVAL,
          last_audid,
          NULL
        );
      /* update last audit record
's valid_to to new LastActionTime
      and next audit ID to newly inserted record's sequence number
      */
      UPDATE
        a_wkfwtsk_stt_cnge
      SET
        valid_to        = :new.wtsc_las_act_tim,
        wtsc_next_audid = u_wkfwtsk_stt_cnge.CURRVAL
      WHERE
        wtsc_audid = last_audid;
    END IF;
  END;
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
NO
</td>
<td>
YES
</td>
<td>
NO
</td>
</tr>
</table>
<p>

#: click on a column heading to sort on it

<pre>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                              VARCHAR2(128)
 TRIGGER_NAME                                       VARCHAR2(128)
 TRIGGER_TYPE                                       VARCHAR2(16)
 TRIGGERING_EVENT                                   VARCHAR2(246)
 TABLE_OWNER                                        VARCHAR2(128)
 BASE_OBJECT_TYPE                                   VARCHAR2(18)
 TABLE_NAME                                         VARCHAR2(128)
 COLUMN_NAME                                        VARCHAR2(4000)
 REFERENCING_NAMES                                  VARCHAR2(422)
 WHEN_CLAUSE                                        VARCHAR2(4000)
 STATUS                                             VARCHAR2(8)
 DESCRIPTION                                        VARCHAR2(4000)
 ACTION_TYPE                                        VARCHAR2(11)
 TRIGGER_BODY                                       LONG
 CROSSEDITION                                       VARCHAR2(7)
 BEFORE_STATEMENT                                   VARCHAR2(3)
 BEFORE_ROW                                         VARCHAR2(3)
 AFTER_ROW                                          VARCHAR2(3)
 AFTER_STATEMENT                                    VARCHAR2(3)
 INSTEAD_OF_ROW                                     VARCHAR2(3)
 FIRE_ONCE                                          VARCHAR2(3)
 APPLY_SERVER_ONLY                                  VARCHAR2(3)

SELECT /*+ NO_MERGE */
       *
  FROM dba_triggers
 WHERE (table_owner, table_name) IN (SELECT /*+ UNNEST */ object_owner, object_name
                                       FROM plan_table
                                      WHERE statement_id = 'LIST_OF_TABLES'
                                        AND remarks = '17vjd1aast5q7')
 ORDER BY table_owner, table_name, trigger_name;

11 rows selected.
</pre>

<br>
<font class="f">sqld360 (c) 2015. Version v192 (2019-03-23). Report executed on 2020-11-02/22:32:29 for SQL ID 17vjd1aast5q7 (SELECT DISTINCT PF.PERF_USR FROM T_WKFWTSK WF , T_WKFWTSK_STT_CNGE CNG , T_PRMR ) </font>
</body>
</html>
