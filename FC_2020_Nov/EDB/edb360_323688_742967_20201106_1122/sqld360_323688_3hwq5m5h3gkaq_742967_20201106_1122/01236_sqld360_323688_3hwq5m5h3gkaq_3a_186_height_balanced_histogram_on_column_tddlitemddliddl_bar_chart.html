<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- $Header: 00996_sqld360_323688_3hwq5m5h3gkaq_3a_67_histograms v192 (2019-03-23) mauro.pagano $ -->
<!-- Copyright (c) 2015, All rights reserved. -->
<!-- Author: mauro.pagano@gmail.com -->

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="icon" href="SQLd360_favicon.ico">
<title>Height Balanced histogram on Column T_DDL_ITEM.DDLI_DDL</title>

<style type="text/css">
body             {font:10pt Arial,Helvetica,Geneva,sans-serif; color:black; background:white;}
h1               {font-size:16pt; font-weight:bold; color:#336699; border-bottom:1px solid #336699; margin-top:0pt; margin-bottom:0pt; padding:0px 0px 0px 0px;}
h2               {font-size:14pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
h3               {font-size:12pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
pre              {font:8pt monospace,Monaco,"Courier New",Courier;}
a                {color:#663300;}
table            {font-size:8pt; border-collapse:collapse; empty-cells:show; white-space:nowrap; border:1px solid #336699;}
li               {font-size:8pt; color:black; padding-left:4px; padding-right:4px; padding-bottom:2px;}
th               {font-weight:bold; color:white; background:#0066CC; padding-left:4px; padding-right:4px; padding-bottom:2px;}
tr               {color:black; background:#ffffff;}
tr.main          {color:black; background:#ffffff;}
tr.main:hover    {color:black; background:#ffffff;}
td               {vertical-align:top; border:1px solid #336699;}
td.c             {text-align:center;}
tr:hover         {background:#0066CC; color:white;}
font.n           {font-size:8pt; font-style:italic; color:#336699;}
font.f           {font-size:8pt; color:#999999; border-top:1px solid #336699; margin-top:30pt;}
div.google-chart {width:809px; height:500px;}
</style>

<!-- 01236_sqld360_323688_3hwq5m5h3gkaq_3a_186_height_balanced_histogram_on_column_tddlitemddliddl_bar_chart.html $ -->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
google.load("visualization", "1", {packages:["corechart"]})
google.setOnLoadCallback(drawChart)
function drawChart() {
var data = google.visualization.arrayToDataTable([
['Bucket', 'Number of Rows', { role: 'style' }, { role: 'tooltip' }]
,['500', 61, '.007874', 'ApproxValue: 500 NumRows: 61 Sel: .007874']
,['520', 31, '.003937', 'ApproxValue: 520 NumRows: 31 Sel: .003937']
,['550', 61, '.007874', 'ApproxValue: 550 NumRows: 61 Sel: .007874']
,['710', 31, '.003937', 'ApproxValue: 710 NumRows: 31 Sel: .003937']
,['1006', 31, '.003937', 'ApproxValue: 1006 NumRows: 31 Sel: .003937']
,['1010', 31, '.003937', 'ApproxValue: 1010 NumRows: 31 Sel: .003937']
,['1018', 31, '.003937', 'ApproxValue: 1018 NumRows: 31 Sel: .003937']
,['1027', 214, '.027559', 'ApproxValue: 1027 NumRows: 214 Sel: .027559']
,['1028', 31, '.003937', 'ApproxValue: 1028 NumRows: 31 Sel: .003937']
,['1031', 31, '.003937', 'ApproxValue: 1031 NumRows: 31 Sel: .003937']
,['1100', 31, '.003937', 'ApproxValue: 1100 NumRows: 31 Sel: .003937']
,['1800', 31, '.003937', 'ApproxValue: 1800 NumRows: 31 Sel: .003937']
,['2001', 581, '.074803', 'ApproxValue: 2001 NumRows: 581 Sel: .074803']
,['2003', 61, '.007874', 'ApproxValue: 2003 NumRows: 61 Sel: .007874']
,['2004', 92, '.011811', 'ApproxValue: 2004 NumRows: 92 Sel: .011811']
,['2008', 31, '.003937', 'ApproxValue: 2008 NumRows: 31 Sel: .003937']
,['2011', 92, '.011811', 'ApproxValue: 2011 NumRows: 92 Sel: .011811']
,['2013', 31, '.003937', 'ApproxValue: 2013 NumRows: 31 Sel: .003937']
,['2015', 153, '.019685', 'ApproxValue: 2015 NumRows: 153 Sel: .019685']
,['2016', 31, '.003937', 'ApproxValue: 2016 NumRows: 31 Sel: .003937']
,['2020', 31, '.003937', 'ApproxValue: 2020 NumRows: 31 Sel: .003937']
,['2024', 31, '.003937', 'ApproxValue: 2024 NumRows: 31 Sel: .003937']
,['2027', 61, '.007874', 'ApproxValue: 2027 NumRows: 61 Sel: .007874']
,['2029', 31, '.003937', 'ApproxValue: 2029 NumRows: 31 Sel: .003937']
,['2031', 31, '.003937', 'ApproxValue: 2031 NumRows: 31 Sel: .003937']
,['2033', 31, '.003937', 'ApproxValue: 2033 NumRows: 31 Sel: .003937']
,['3005', 61, '.007874', 'ApproxValue: 3005 NumRows: 61 Sel: .007874']
,['4002', 31, '.003937', 'ApproxValue: 4002 NumRows: 31 Sel: .003937']
,['4003', 31, '.003937', 'ApproxValue: 4003 NumRows: 31 Sel: .003937']
,['4051', 31, '.003937', 'ApproxValue: 4051 NumRows: 31 Sel: .003937']
,['4052', 31, '.003937', 'ApproxValue: 4052 NumRows: 31 Sel: .003937']
,['4070', 214, '.027559', 'ApproxValue: 4070 NumRows: 214 Sel: .027559']
,['4080', 61, '.007874', 'ApproxValue: 4080 NumRows: 61 Sel: .007874']
,['4091', 31, '.003937', 'ApproxValue: 4091 NumRows: 31 Sel: .003937']
,['4101', 31, '.003937', 'ApproxValue: 4101 NumRows: 31 Sel: .003937']
,['4130', 31, '.003937', 'ApproxValue: 4130 NumRows: 31 Sel: .003937']
,['4131', 183, '.023622', 'ApproxValue: 4131 NumRows: 183 Sel: .023622']
,['4132', 275, '.035433', 'ApproxValue: 4132 NumRows: 275 Sel: .035433']
,['4133', 947, '.122047', 'ApproxValue: 4133 NumRows: 947 Sel: .122047']
,['4140', 31, '.003937', 'ApproxValue: 4140 NumRows: 31 Sel: .003937']
,['4141', 61, '.007874', 'ApproxValue: 4141 NumRows: 61 Sel: .007874']
,['4151', 61, '.007874', 'ApproxValue: 4151 NumRows: 61 Sel: .007874']
,['4160', 31, '.003937', 'ApproxValue: 4160 NumRows: 31 Sel: .003937']
,['4161', 183, '.023622', 'ApproxValue: 4161 NumRows: 183 Sel: .023622']
,['4162', 92, '.011811', 'ApproxValue: 4162 NumRows: 92 Sel: .011811']
,['4163', 183, '.023622', 'ApproxValue: 4163 NumRows: 183 Sel: .023622']
,['4175', 31, '.003937', 'ApproxValue: 4175 NumRows: 31 Sel: .003937']
,['4191', 31, '.003937', 'ApproxValue: 4191 NumRows: 31 Sel: .003937']
,['4241', 31, '.003937', 'ApproxValue: 4241 NumRows: 31 Sel: .003937']
,['4350', 31, '.003937', 'ApproxValue: 4350 NumRows: 31 Sel: .003937']
,['4360', 31, '.003937', 'ApproxValue: 4360 NumRows: 31 Sel: .003937']
,['4365', 31, '.003937', 'ApproxValue: 4365 NumRows: 31 Sel: .003937']
,['4396', 31, '.003937', 'ApproxValue: 4396 NumRows: 31 Sel: .003937']
,['5100', 31, '.003937', 'ApproxValue: 5100 NumRows: 31 Sel: .003937']
,['5300', 31, '.003937', 'ApproxValue: 5300 NumRows: 31 Sel: .003937']
,['6000', 31, '.003937', 'ApproxValue: 6000 NumRows: 31 Sel: .003937']
,['6105', 31, '.003937', 'ApproxValue: 6105 NumRows: 31 Sel: .003937']
,['6113', 31, '.003937', 'ApproxValue: 6113 NumRows: 31 Sel: .003937']
,['6200', 31, '.003937', 'ApproxValue: 6200 NumRows: 31 Sel: .003937']
,['6300', 31, '.003937', 'ApproxValue: 6300 NumRows: 31 Sel: .003937']
,['6810', 31, '.003937', 'ApproxValue: 6810 NumRows: 31 Sel: .003937']
,['7002', 31, '.003937', 'ApproxValue: 7002 NumRows: 31 Sel: .003937']
,['7007', 92, '.011811', 'ApproxValue: 7007 NumRows: 92 Sel: .011811']
,['7011', 31, '.003937', 'ApproxValue: 7011 NumRows: 31 Sel: .003937']
,['10201', 31, '.003937', 'ApproxValue: 10201 NumRows: 31 Sel: .003937']
,['93130', 31, '.003937', 'ApproxValue: 93130 NumRows: 31 Sel: .003937']
,['93210', 31, '.003937', 'ApproxValue: 93210 NumRows: 31 Sel: .003937']
,['93250', 31, '.003937', 'ApproxValue: 93250 NumRows: 31 Sel: .003937']
,['10000000', 61, '.007874', 'ApproxValue: 10000000 NumRows: 61 Sel: .007874']
,['10000020', 31, '.003937', 'ApproxValue: 10000020 NumRows: 31 Sel: .003937']
,['10000021', 31, '.003937', 'ApproxValue: 10000021 NumRows: 31 Sel: .003937']
,['10000023', 31, '.003937', 'ApproxValue: 10000023 NumRows: 31 Sel: .003937']
,['10000061', 31, '.003937', 'ApproxValue: 10000061 NumRows: 31 Sel: .003937']
,['10000064', 31, '.003937', 'ApproxValue: 10000064 NumRows: 31 Sel: .003937']
,['10000067', 31, '.003937', 'ApproxValue: 10000067 NumRows: 31 Sel: .003937']
,['10000069', 31, '.003937', 'ApproxValue: 10000069 NumRows: 31 Sel: .003937']
,['10000073', 31, '.003937', 'ApproxValue: 10000073 NumRows: 31 Sel: .003937']
,['10000076', 31, '.003937', 'ApproxValue: 10000076 NumRows: 31 Sel: .003937']
,['10000080', 31, '.003937', 'ApproxValue: 10000080 NumRows: 31 Sel: .003937']
,['10000082', 31, '.003937', 'ApproxValue: 10000082 NumRows: 31 Sel: .003937']
,['10000088', 31, '.003937', 'ApproxValue: 10000088 NumRows: 31 Sel: .003937']
,['10000089', 31, '.003937', 'ApproxValue: 10000089 NumRows: 31 Sel: .003937']
,['10000091', 31, '.003937', 'ApproxValue: 10000091 NumRows: 31 Sel: .003937']
,['10000093', 31, '.003937', 'ApproxValue: 10000093 NumRows: 31 Sel: .003937']
,['10000096', 31, '.003937', 'ApproxValue: 10000096 NumRows: 31 Sel: .003937']
,['10000098', 31, '.003937', 'ApproxValue: 10000098 NumRows: 31 Sel: .003937']
,['10000103', 31, '.003937', 'ApproxValue: 10000103 NumRows: 31 Sel: .003937']
,['10000105', 31, '.003937', 'ApproxValue: 10000105 NumRows: 31 Sel: .003937']
,['10000109', 31, '.003937', 'ApproxValue: 10000109 NumRows: 31 Sel: .003937']
,['10000112', 31, '.003937', 'ApproxValue: 10000112 NumRows: 31 Sel: .003937']
,['10000113', 31, '.003937', 'ApproxValue: 10000113 NumRows: 31 Sel: .003937']
,['10000116', 31, '.003937', 'ApproxValue: 10000116 NumRows: 31 Sel: .003937']
,['10000118', 31, '.003937', 'ApproxValue: 10000118 NumRows: 31 Sel: .003937']
,['10000123', 31, '.003937', 'ApproxValue: 10000123 NumRows: 31 Sel: .003937']
,['10000127', 31, '.003937', 'ApproxValue: 10000127 NumRows: 31 Sel: .003937']
,['10000181', 31, '.003937', 'ApproxValue: 10000181 NumRows: 31 Sel: .003937']
,['10000183', 31, '.003937', 'ApproxValue: 10000183 NumRows: 31 Sel: .003937']
,['10000189', 31, '.003937', 'ApproxValue: 10000189 NumRows: 31 Sel: .003937']
,['10000192', 31, '.003937', 'ApproxValue: 10000192 NumRows: 31 Sel: .003937']
,['10000195', 31, '.003937', 'ApproxValue: 10000195 NumRows: 31 Sel: .003937']
,['10000199', 31, '.003937', 'ApproxValue: 10000199 NumRows: 31 Sel: .003937']
,['10000204', 31, '.003937', 'ApproxValue: 10000204 NumRows: 31 Sel: .003937']
,['10000206', 31, '.003937', 'ApproxValue: 10000206 NumRows: 31 Sel: .003937']
,['10000209', 31, '.003937', 'ApproxValue: 10000209 NumRows: 31 Sel: .003937']
,['10000213', 31, '.003937', 'ApproxValue: 10000213 NumRows: 31 Sel: .003937']
,['10000215', 31, '.003937', 'ApproxValue: 10000215 NumRows: 31 Sel: .003937']
,['10000219', 31, '.003937', 'ApproxValue: 10000219 NumRows: 31 Sel: .003937']
,['10000221', 31, '.003937', 'ApproxValue: 10000221 NumRows: 31 Sel: .003937']
,['10000223', 31, '.003937', 'ApproxValue: 10000223 NumRows: 31 Sel: .003937']
,['10000228', 31, '.003937', 'ApproxValue: 10000228 NumRows: 31 Sel: .003937']
,['10000231', 31, '.003937', 'ApproxValue: 10000231 NumRows: 31 Sel: .003937']
,['10000234', 31, '.003937', 'ApproxValue: 10000234 NumRows: 31 Sel: .003937']
,['10000238', 31, '.003937', 'ApproxValue: 10000238 NumRows: 31 Sel: .003937']
,['10000241', 31, '.003937', 'ApproxValue: 10000241 NumRows: 31 Sel: .003937']
,['10000244', 31, '.003937', 'ApproxValue: 10000244 NumRows: 31 Sel: .003937']
,['10000246', 31, '.003937', 'ApproxValue: 10000246 NumRows: 31 Sel: .003937']
,['10000251', 31, '.003937', 'ApproxValue: 10000251 NumRows: 31 Sel: .003937']
,['10000253', 31, '.003937', 'ApproxValue: 10000253 NumRows: 31 Sel: .003937']
,['10000258', 31, '.003937', 'ApproxValue: 10000258 NumRows: 31 Sel: .003937']
,['10000261', 31, '.003937', 'ApproxValue: 10000261 NumRows: 31 Sel: .003937']
,['10000264', 31, '.003937', 'ApproxValue: 10000264 NumRows: 31 Sel: .003937']
,['10000268', 31, '.003937', 'ApproxValue: 10000268 NumRows: 31 Sel: .003937']
,['10000271', 31, '.003937', 'ApproxValue: 10000271 NumRows: 31 Sel: .003937']
,['10000274', 31, '.003937', 'ApproxValue: 10000274 NumRows: 31 Sel: .003937']
,['10000276', 31, '.003937', 'ApproxValue: 10000276 NumRows: 31 Sel: .003937']
,['10000279', 31, '.003937', 'ApproxValue: 10000279 NumRows: 31 Sel: .003937']
,['10000284', 31, '.003937', 'ApproxValue: 10000284 NumRows: 31 Sel: .003937']
,['10000285', 31, '.003937', 'ApproxValue: 10000285 NumRows: 31 Sel: .003937']
,['10000287', 31, '.003937', 'ApproxValue: 10000287 NumRows: 31 Sel: .003937']
,['10000289', 31, '.003937', 'ApproxValue: 10000289 NumRows: 31 Sel: .003937']
,['10000293', 31, '.003937', 'ApproxValue: 10000293 NumRows: 31 Sel: .003937']
,['10000295', 31, '.003937', 'ApproxValue: 10000295 NumRows: 31 Sel: .003937']
,['10000298', 31, '.003937', 'ApproxValue: 10000298 NumRows: 31 Sel: .003937']
,['10000302', 31, '.003937', 'ApproxValue: 10000302 NumRows: 31 Sel: .003937']
,['10000303', 31, '.003937', 'ApproxValue: 10000303 NumRows: 31 Sel: .003937']
,['10000306', 31, '.003937', 'ApproxValue: 10000306 NumRows: 31 Sel: .003937']
,['10000310', 31, '.003937', 'ApproxValue: 10000310 NumRows: 31 Sel: .003937']
,['10000314', 31, '.003937', 'ApproxValue: 10000314 NumRows: 31 Sel: .003937']
,['10000320', 31, '.003937', 'ApproxValue: 10000320 NumRows: 31 Sel: .003937']
,['10000322', 31, '.003937', 'ApproxValue: 10000322 NumRows: 31 Sel: .003937']
,['10000324', 31, '.003937', 'ApproxValue: 10000324 NumRows: 31 Sel: .003937']
,['10000342', 31, '.003937', 'ApproxValue: 10000342 NumRows: 31 Sel: .003937']
,['10000347', 31, '.003937', 'ApproxValue: 10000347 NumRows: 31 Sel: .003937']
,['10000350', 31, '.003937', 'ApproxValue: 10000350 NumRows: 31 Sel: .003937']
,['10000355', 31, '.003937', 'ApproxValue: 10000355 NumRows: 31 Sel: .003937']
,['10000379', 31, '.003937', 'ApproxValue: 10000379 NumRows: 31 Sel: .003937']
,['10000401', 31, '.003937', 'ApproxValue: 10000401 NumRows: 31 Sel: .003937']
,['10000419', 31, '.003937', 'ApproxValue: 10000419 NumRows: 31 Sel: .003937']
,['10000420', 31, '.003937', 'ApproxValue: 10000420 NumRows: 31 Sel: .003937']
,['10000423', 31, '.003937', 'ApproxValue: 10000423 NumRows: 31 Sel: .003937']
]);

var options = {
chartArea:{left:90, top:90, width:'85%', height:'65%'},
backgroundColor: {fill: '#ffffff', stroke: '#336699', strokeWidth: 1},
title: '3a.186. Height Balanced histogram on Column T_DDL_ITEM.DDLI_DDL',
titleTextStyle: {fontSize: 18, bold: false},
legend: {position: 'none'},
vAxis: {minValue: 0},
tooltip: {textStyle: {fontSize: 14}}
}

var chart = new google.visualization.ColumnChart(document.getElementById('barchart'))
chart.draw(data, options)
}
</script>
</head>
<body>
<h1> <a href="http://mauro-pagano.com/2015/02/16/sqld360-sql-diagnostics-collection-made-faster/" target="_blank"><img src="SQLd360_img.jpg" alt="SQLd360" height="33" width="52"></a> 3a.186. Height Balanced histogram on Column T_DDL_ITEM.DDLI_DDL <em>(DBA_TAB_HISTOGRAMS)</em>  </h1>

<br />


<br />

<div id="barchart" class="google-chart"></div>

<font class="n">Notes:<br>1) Values are approximated<br>2) Hovering on the bars show more info.</font>
<font class="n"><br>3) </font>
<pre>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                              VARCHAR2(128)
 TABLE_NAME                                         VARCHAR2(128)
 COLUMN_NAME                                        VARCHAR2(4000)
 ENDPOINT_NUMBER                                    NUMBER
 ENDPOINT_VALUE                                     NUMBER
 ENDPOINT_ACTUAL_VALUE                              VARCHAR2(4000)
 ENDPOINT_ACTUAL_VALUE_RAW                          RAW(1000)
 ENDPOINT_REPEAT_COUNT                              NUMBER
 SCOPE                                              VARCHAR2(7)

SELECT /*+ NO_MERGE */
CASE WHEN endpoint_actual_value IS NOT NULL THEN REPLACE(endpoint_actual_value, '''', '')
WHEN endpoint_actual_value IS NULL THEN
CASE WHEN 'NUMBER' = 'DATE' or 'NUMBER' LIKE 'TIMESTAMP%' THEN
TO_CHAR(TO_DATE(TO_CHAR(TRUNC(endpoint_value)), 'J') + (endpoint_value - TRUNC(endpoint_value)),'SYYYY/MM/DD HH24:MI:SS')
WHEN 'NUMBER' IN ('NUMBER', 'FLOAT', 'BINARY_FLOAT') THEN
TO_CHAR(endpoint_value)
ELSE
UTL_RAW.CAST_TO_VARCHAR2(SUBSTR(LPAD(TO_CHAR(endpoint_value,'fmxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'),30,'0'),1,12))
END
END approximate_value,
round((a.endpoint_number - lag(a.endpoint_number,1,0) over (order by a.endpoint_number)) / 254 * 7763) rows_per_bucket,
trunc((a.endpoint_number - lag(a.endpoint_number,1,0) over (order by a.endpoint_number)) / 254,6) selectivity,
'ApproxValue: '||CASE WHEN endpoint_actual_value IS NOT NULL THEN REPLACE(endpoint_actual_value, '''', '')
WHEN endpoint_actual_value IS NULL THEN
CASE WHEN 'NUMBER' = 'DATE' or 'NUMBER' LIKE 'TIMESTAMP%' THEN
TO_CHAR(TO_DATE(TO_CHAR(TRUNC(endpoint_value)), 'J') + (endpoint_value - TRUNC(endpoint_value)),'SYYYY/MM/DD HH24:MI:SS')
WHEN 'NUMBER' IN ('NUMBER', 'FLOAT', 'BINARY_FLOAT') THEN
TO_CHAR(endpoint_value)
ELSE
UTL_RAW.CAST_TO_VARCHAR2(SUBSTR(LPAD(TO_CHAR(endpoint_value,'fmxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'),30,'0'),1,12))
END
END||' NumRows: '||round((a.endpoint_number - lag(a.endpoint_number,1,0) over (order by a.endpoint_number)) / 254 * 7763)||' Sel: '||trunc((a.endpoint_number - lag(a.endpoint_number,1,0) over (order by a.endpoint_number)) / 254 , 6) chart_text
FROM dba_tab_histograms a
WHERE a.owner = 'THH_C4C'
AND a.table_name = 'T_DDL_ITEM'
AND a.column_name = 'DDLI_DDL'
ORDER BY a.endpoint_number;

150 rows selected.
</pre>

<br>
<font class="f">sqld360 (c) 2015. Version v192 (2019-03-23). Report executed on 2020-11-06/17:05:34 for SQL ID 3hwq5m5h3gkaq (UPDATE T_USR SET "CLASSTYPE" = :B1 ,"USR_C4C_ID" = :B2 ,"USR_CRTD" = :B3 ,"USR_L) </font>
</body>
</html>
