<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- $Header: 00001_edb360_323688_index v192 (2019-03-23) carlos.sierra $ -->
<!-- edb360_copyright (c) 2019, All rights reserved. -->
<!-- Author: carlos.sierra.usa@gmail.com -->

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="icon" href="edb360_favicon.ico" type="image/x-icon" />
<title>SQL with multiple Execution Plans</title>

<style type="text/css">
body             {font:10pt Arial,Helvetica,Geneva,sans-serif; color:black; background:white;}
h1               {font-size:16pt; font-weight:bold; color:#336699; border-bottom:1px solid #336699; margin-top:0pt; margin-bottom:0pt; padding:0px 0px 0px 0px;}
h2               {font-size:14pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
h3               {font-size:12pt; font-weight:bold; color:#336699; margin-top:4pt; margin-bottom:0pt;}
pre              {font:8pt monospace,Monaco,"Courier New",Courier;}
a                {color:#663300;}
table            {font-size:8pt; border-collapse:collapse; empty-cells:show; white-space:nowrap; border:1px solid #336699;}
li               {font-size:8pt; color:black; padding-left:4px; padding-right:4px; padding-bottom:2px;}
th               {font-weight:bold; color:white; background:#0066CC; padding-left:4px; padding-right:4px; padding-bottom:2px;}
tr               {color:black; background:white;}
tr:hover         {color:white; background:#0066CC;}
tr.main          {color:black; background:white;}
tr.main:hover    {color:black; background:white;}
td               {vertical-align:top; border:1px solid #336699;}
td.c             {text-align:center;}
font.n           {font-size:8pt; font-style:italic; color:#336699;}
font.f           {font-size:8pt; color:#999999; border-top:1px solid #336699; margin-top:30pt;}
div.google-chart {width:809px; height:500px;}
</style>

<script type="text/javascript" src="sorttable.js"></script>

<!-- 00381_edb360_323688_3d_339_sql_with_multiple_execution_plans.html $ -->
</head>
<body>
<h1> <a href="http://carlos-sierra.net/edb360-an-oracle-database-360-degree-view/" target="_blank"><img src="database.jpg" alt="eDB360" height="33" width="52" /></a> 3d.339. SQL with multiple Execution Plans <em>(DBA_HIST_SQLSTAT)</em>  </h1>

<br />
SQL Statements with multiple Execution Plans performing significantly different<br />


<p>
<table class="sortable">
<tr>
<th scope="col">
#
</th>
<th scope="col">
SQL_ID
</th>
<th scope="col">
PLANS
</th>
<th scope="col">
PLAN_HASH_VALUE
</th>
<th scope="col">
MIN_TIME
</th>
<th scope="col">
MAX_TIME
</th>
<th scope="col">
Median Secs
<br>
Per Exec
</th>
<th scope="col">
EXECUTIONS
</th>
<th scope="col">
Approx
<br>
Total Secs
</th>
<th scope="col">
Std Dev Secs
<br>
Per Exec
</th>
<th scope="col">
Avg Secs
<br>
Per Exec
</th>
<th scope="col">
Min Secs
<br>
Per Exec
</th>
<th scope="col">
Max Secs
<br>
Per Exec
</th>
<th scope="col">
SQL_TEXT
</th>
</tr>
<tr>
<td>
1
</td>
<td>
6ta0azw9znyz8
</td>
<td align="right">
    2
</td>
<td align="right">
          3653789528
</td>
<td>
2020-10-06/11
</td>
<td>
2020-11-03/17
</td>
<td align="right">
                .461
</td>
<td align="right">
               60756
</td>
<td align="right">
           28028.594
</td>
<td align="right">
                .027
</td>
<td align="right">
                .457
</td>
<td align="right">
                .413
</td>
<td align="right">
                .661
</td>
<td>
delete from T_OTHER_INSURANCE where INS_MEMBER= :1 and CLASSTYPE=:2
</td>
</tr>
<tr>
<td>
2
</td>
<td>
6ta0azw9znyz8
</td>
<td align="right">
    2
</td>
<td align="right">
          1942007213
</td>
<td>
2020-11-04/14
</td>
<td>
2020-11-04/15
</td>
<td align="right">
                .001
</td>
<td align="right">
                3848
</td>
<td align="right">
               2.674
</td>
<td align="right">
                   0
</td>
<td align="right">
                .001
</td>
<td align="right">
                .001
</td>
<td align="right">
                .001
</td>
<td>
delete from T_OTHER_INSURANCE where INS_MEMBER= :1 and CLASSTYPE=:2
</td>
</tr>
<tr>
<td>
3
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
           312717859
</td>
<td>
2020-10-06/11
</td>
<td>
2020-11-06/11
</td>
<td align="right">
              19.597
</td>
<td align="right">
                 259
</td>
<td align="right">
            5075.537
</td>
<td align="right">
               3.592
</td>
<td align="right">
              20.362
</td>
<td align="right">
              18.313
</td>
<td align="right">
              66.106
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
4
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          1370721523
</td>
<td>
2020-10-06/11
</td>
<td>
2020-11-06/11
</td>
<td align="right">
                .128
</td>
<td align="right">
                  80
</td>
<td align="right">
              10.261
</td>
<td align="right">
                .225
</td>
<td align="right">
                .193
</td>
<td align="right">
                .031
</td>
<td align="right">
               3.004
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
5
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          1707006562
</td>
<td>
2020-10-06/11
</td>
<td>
2020-10-22/17
</td>
<td align="right">
              19.051
</td>
<td align="right">
                 186
</td>
<td align="right">
            3543.541
</td>
<td align="right">
               1.475
</td>
<td align="right">
              19.446
</td>
<td align="right">
              18.688
</td>
<td align="right">
              37.504
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
6
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          2646870572
</td>
<td>
2020-10-06/12
</td>
<td>
2020-11-06/11
</td>
<td align="right">
              19.693
</td>
<td align="right">
                 128
</td>
<td align="right">
             2520.69
</td>
<td align="right">
               3.124
</td>
<td align="right">
               20.29
</td>
<td align="right">
              18.241
</td>
<td align="right">
              48.217
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
7
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          1592253080
</td>
<td>
2020-10-19/22
</td>
<td>
2020-10-22/20
</td>
<td align="right">
               1.342
</td>
<td align="right">
                   3
</td>
<td align="right">
               4.026
</td>
<td align="right">
                .059
</td>
<td align="right">
               1.378
</td>
<td align="right">
               1.342
</td>
<td align="right">
               1.473
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
8
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          4066339909
</td>
<td>
2020-10-20/07
</td>
<td>
2020-11-06/11
</td>
<td align="right">
              19.798
</td>
<td align="right">
                 246
</td>
<td align="right">
            4870.266
</td>
<td align="right">
               5.198
</td>
<td align="right">
              21.879
</td>
<td align="right">
              19.005
</td>
<td align="right">
              63.938
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
9
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          2380592788
</td>
<td>
2020-10-20/08
</td>
<td>
2020-10-22/20
</td>
<td align="right">
                .185
</td>
<td align="right">
                  25
</td>
<td align="right">
                4.63
</td>
<td align="right">
                .288
</td>
<td align="right">
                .262
</td>
<td align="right">
                .185
</td>
<td align="right">
                2.24
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
10
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          2788351063
</td>
<td>
2020-10-27/07
</td>
<td>
2020-10-29/17
</td>
<td align="right">
              21.821
</td>
<td align="right">
                   3
</td>
<td align="right">
              65.463
</td>
<td align="right">
                .463
</td>
<td align="right">
              22.126
</td>
<td align="right">
              21.821
</td>
<td align="right">
              22.817
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
11
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
           157137232
</td>
<td>
2020-10-28/08
</td>
<td>
2020-10-30/17
</td>
<td align="right">
                .234
</td>
<td align="right">
                  38
</td>
<td align="right">
               8.897
</td>
<td align="right">
                .222
</td>
<td align="right">
                 .25
</td>
<td align="right">
                 .06
</td>
<td align="right">
               1.157
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
12
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          1870894448
</td>
<td>
2020-10-28/08
</td>
<td>
2020-10-29/17
</td>
<td align="right">
              19.831
</td>
<td align="right">
                  77
</td>
<td align="right">
            1527.005
</td>
<td align="right">
                .548
</td>
<td align="right">
              20.062
</td>
<td align="right">
              19.831
</td>
<td align="right">
              22.573
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
13
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          3910764974
</td>
<td>
2020-10-28/08
</td>
<td>
2020-10-30/17
</td>
<td align="right">
              19.257
</td>
<td align="right">
                 121
</td>
<td align="right">
            2330.138
</td>
<td align="right">
                  .2
</td>
<td align="right">
              19.304
</td>
<td align="right">
              19.152
</td>
<td align="right">
              20.547
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
14
</td>
<td>
0sjx29v99zfqc
</td>
<td align="right">
   12
</td>
<td align="right">
          1705091248
</td>
<td>
2020-10-28/14
</td>
<td>
2020-10-30/17
</td>
<td align="right">
              20.375
</td>
<td align="right">
                   5
</td>
<td align="right">
             101.873
</td>
<td align="right">
                .179
</td>
<td align="right">
              20.257
</td>
<td align="right">
              20.094
</td>
<td align="right">
              20.718
</td>
<td>
SELECT INFO_WITH_MEMBER_ID.*,    enrollment.ELNS_INSCPRSRGRP ipgGroupId,    benefit.BENP_LWSTLVL_PRO
DCAT productCategoryId,    affMember.USR_FRSTNAM affiliatedMemberFirstName,    affMember.USR_LAS_NAM
 affiliatedMemberLastNameFROM (  SELECT INFO.*,    CASE    WHEN INFO.memberAffiliationId IS NOT NULL
 THEN (INFO.memberAffiliationId)    WHEN INFO.authAffiliationId IS NOT NULL THEN (SELECT UMBS_MEMB F
ROM T_UM_BASE WHERE UMBS_ID=INFO.authAffiliationId)    WHEN INFO.careManagementAffiliationId IS NOT
NULL THEN (SELECT CMBS_MEMB FROM T_CM_BASEBASE WHERE CMBB_ID=INFO.careManagementAffiliationId)    WH
EN INFO.providerAffiliationId IS NOT NULL THEN (INFO.providerAffiliationId)    ELSE (NULL)    END
      affiliatedMemberId  FROM (  SELECT * FROM (    SELECT        T.SETK_ID AS id,        T.SETK_C4
C_ID AS c4cId,        T.SETK_UNIVID AS universalId,        taskType.TSKT_RCPTTYP AS categoryId,
   T.SETK_TSK_TYP AS taskTypeId,        taskType.DDLI_LBL AS taskTypeLabel,
</td>
</tr>
<tr>
<td>
15
</td>
<td>
1w8ghsw9wgz2c
</td>
<td align="right">
    2
</td>
<td align="right">
          2250370188
</td>
<td>
2020-10-30/12
</td>
<td>
2020-10-30/12
</td>
<td align="right">
              28.842
</td>
<td align="right">
                   3
</td>
<td align="right">
              86.527
</td>
<td align="right">
                   0
</td>
<td align="right">
              28.842
</td>
<td align="right">
              28.842
</td>
<td align="right">
              28.842
</td>
<td>
    with histogram as (      select event_name, wait_time_micro, twt,              nullif(wait_count
,0) wait_count,             nullif(100*(wait_count/decode(twt,0,null,twt)),0) wait_pct       from (
        select event_name, wait_time_micro,                 sum(wait_count) wait_count, max(twt) twt
           from (             select event_name,                    -- only group &gt; 1s together
               -- persistent memory support should displpay 1-64                    case when wait_t
ime_micro &gt; 1048576 then 2097152                         else wait_time_micro
end wait_time_micro,                    wait_count              wait_count,                    sum(w
ait_count) over () twt               from ( -- get deltas                 select e.event_name,
                  e.wait_time_milli                  wait_time_milli,                        e.wait_
time_milli * 1024           wait_time_micro,                        e.wait_coun
</td>
</tr>
<tr>
<td>
16
</td>
<td>
1w8ghsw9wgz2c
</td>
<td align="right">
    2
</td>
<td align="right">
           249609580
</td>
<td>
2020-11-02/14
</td>
<td>
2020-11-02/17
</td>
<td align="right">
              19.581
</td>
<td align="right">
                 396
</td>
<td align="right">
            7753.945
</td>
<td align="right">
                .101
</td>
<td align="right">
              19.549
</td>
<td align="right">
              19.362
</td>
<td align="right">
              19.645
</td>
<td>
    with histogram as (      select event_name, wait_time_micro, twt,              nullif(wait_count
,0) wait_count,             nullif(100*(wait_count/decode(twt,0,null,twt)),0) wait_pct       from (
        select event_name, wait_time_micro,                 sum(wait_count) wait_count, max(twt) twt
           from (             select event_name,                    -- only group &gt; 1s together
               -- persistent memory support should displpay 1-64                    case when wait_t
ime_micro &gt; 1048576 then 2097152                         else wait_time_micro
end wait_time_micro,                    wait_count              wait_count,                    sum(w
ait_count) over () twt               from ( -- get deltas                 select e.event_name,
                  e.wait_time_milli                  wait_time_milli,                        e.wait_
time_milli * 1024           wait_time_micro,                        e.wait_coun
</td>
</tr>
<tr>
<td>
17
</td>
<td>
65bm88u58wsvy
</td>
<td align="right">
    2
</td>
<td align="right">
          2329025058
</td>
<td>
2020-10-06/15
</td>
<td>
2020-11-03/17
</td>
<td align="right">
                .101
</td>
<td align="right">
               61691
</td>
<td align="right">
            6246.243
</td>
<td align="right">
                .005
</td>
<td align="right">
                .102
</td>
<td align="right">
                .092
</td>
<td align="right">
                .136
</td>
<td>
DELETE FROM T_PHI WHERE MEMBER_ID = :B1 AND PHI_TYPE = 5
</td>
</tr>
<tr>
<td>
18
</td>
<td>
65bm88u58wsvy
</td>
<td align="right">
    2
</td>
<td align="right">
           149534324
</td>
<td>
2020-11-04/14
</td>
<td>
2020-11-04/15
</td>
<td align="right">
                   0
</td>
<td align="right">
                3915
</td>
<td align="right">
                .289
</td>
<td align="right">
                   0
</td>
<td align="right">
                   0
</td>
<td align="right">
                   0
</td>
<td align="right">
                   0
</td>
<td>
DELETE FROM T_PHI WHERE MEMBER_ID = :B1 AND PHI_TYPE = 5
</td>
</tr>
<tr>
<td>
19
</td>
<td>
brg5vk35jcqtv
</td>
<td align="right">
    2
</td>
<td align="right">
          1395218688
</td>
<td>
2020-10-06/11
</td>
<td>
2020-11-02/18
</td>
<td align="right">
                .925
</td>
<td align="right">
                3422
</td>
<td align="right">
             3164.06
</td>
<td align="right">
                .173
</td>
<td align="right">
                .961
</td>
<td align="right">
                .885
</td>
<td align="right">
               3.761
</td>
<td>
SELECT *FROM  (SELECT count(DISTINCT T.UMBS_ID) AS opened   FROM T_UM_BASE T     INNER JOIN T_MEMBDG
ISBASE diag ON diag.UMDS_DGISUM_EVNT = T.UMBS_ID     INNER JOIN T_APBL msrv ON msrv.MSRV_SRVCDGIS =
diag.MBDB_ID AND msrv.APBL_IS_ERR = :&quot;SYS_B_0&quot;   WHERE T.UMBS_OBJ_STT = :&quot;SYS_B_1&quot; AND (T.UMBS_MEMB
= :1  OR T.UMBS_MEMB in (select MBUR_ID from T_USR where USR_MRGEMSTR=:2 ))),  (SELECT count(DISTINC
T T.UMBS_ID) AS closed   FROM T_UM_BASE T     INNER JOIN T_MEMBDGISBASE diag ON diag.UMDS_DGISUM_EVN
T = T.UMBS_ID     INNER JOIN T_APBL msrv ON msrv.MSRV_SRVCDGIS = diag.MBDB_ID AND msrv.APBL_IS_ERR =
 :&quot;SYS_B_2&quot;   WHERE T.UMBS_OBJ_STT = :&quot;SYS_B_3&quot; AND (T.UMBS_MEMB = :3  OR T.UMBS_MEMB in (select MBU
R_ID from T_USR where USR_MRGEMSTR=:4 )))
</td>
</tr>
<tr>
<td>
20
</td>
<td>
brg5vk35jcqtv
</td>
<td align="right">
    2
</td>
<td align="right">
          4242918885
</td>
<td>
2020-10-19/19
</td>
<td>
2020-11-06/11
</td>
<td align="right">
               1.204
</td>
<td align="right">
                2050
</td>
<td align="right">
            2467.311
</td>
<td align="right">
                .202
</td>
<td align="right">
               1.251
</td>
<td align="right">
               1.155
</td>
<td align="right">
               3.351
</td>
<td>
SELECT *FROM  (SELECT count(DISTINCT T.UMBS_ID) AS opened   FROM T_UM_BASE T     INNER JOIN T_MEMBDG
ISBASE diag ON diag.UMDS_DGISUM_EVNT = T.UMBS_ID     INNER JOIN T_APBL msrv ON msrv.MSRV_SRVCDGIS =
diag.MBDB_ID AND msrv.APBL_IS_ERR = :&quot;SYS_B_0&quot;   WHERE T.UMBS_OBJ_STT = :&quot;SYS_B_1&quot; AND (T.UMBS_MEMB
= :1  OR T.UMBS_MEMB in (select MBUR_ID from T_USR where USR_MRGEMSTR=:2 ))),  (SELECT count(DISTINC
T T.UMBS_ID) AS closed   FROM T_UM_BASE T     INNER JOIN T_MEMBDGISBASE diag ON diag.UMDS_DGISUM_EVN
T = T.UMBS_ID     INNER JOIN T_APBL msrv ON msrv.MSRV_SRVCDGIS = diag.MBDB_ID AND msrv.APBL_IS_ERR =
 :&quot;SYS_B_2&quot;   WHERE T.UMBS_OBJ_STT = :&quot;SYS_B_3&quot; AND (T.UMBS_MEMB = :3  OR T.UMBS_MEMB in (select MBU
R_ID from T_USR where USR_MRGEMSTR=:4 )))
</td>
</tr>
</table>
<p>



<br />
#: click on a column heading to sort on it

<pre>
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 SNAP_ID                                   NOT NULL NUMBER
 DBID                                      NOT NULL NUMBER
 INSTANCE_NUMBER                           NOT NULL NUMBER
 SQL_ID                                    NOT NULL VARCHAR2(13)
 PLAN_HASH_VALUE                           NOT NULL NUMBER
 OPTIMIZER_COST                                     NUMBER
 OPTIMIZER_MODE                                     VARCHAR2(10)
 OPTIMIZER_ENV_HASH_VALUE                           NUMBER
 SHARABLE_MEM                                       NUMBER
 LOADED_VERSIONS                                    NUMBER
 VERSION_COUNT                                      NUMBER
 MODULE                                             VARCHAR2(64)
 ACTION                                             VARCHAR2(64)
 SQL_PROFILE                                        VARCHAR2(64)
 FORCE_MATCHING_SIGNATURE                           NUMBER
 PARSING_SCHEMA_ID                                  NUMBER
 PARSING_SCHEMA_NAME                                VARCHAR2(128)
 PARSING_USER_ID                                    NUMBER
 FETCHES_TOTAL                                      NUMBER
 FETCHES_DELTA                                      NUMBER
 END_OF_FETCH_COUNT_TOTAL                           NUMBER
 END_OF_FETCH_COUNT_DELTA                           NUMBER
 SORTS_TOTAL                                        NUMBER
 SORTS_DELTA                                        NUMBER
 EXECUTIONS_TOTAL                                   NUMBER
 EXECUTIONS_DELTA                                   NUMBER
 PX_SERVERS_EXECS_TOTAL                             NUMBER
 PX_SERVERS_EXECS_DELTA                             NUMBER
 LOADS_TOTAL                                        NUMBER
 LOADS_DELTA                                        NUMBER
 INVALIDATIONS_TOTAL                                NUMBER
 INVALIDATIONS_DELTA                                NUMBER
 PARSE_CALLS_TOTAL                                  NUMBER
 PARSE_CALLS_DELTA                                  NUMBER
 DISK_READS_TOTAL                                   NUMBER
 DISK_READS_DELTA                                   NUMBER
 BUFFER_GETS_TOTAL                                  NUMBER
 BUFFER_GETS_DELTA                                  NUMBER
 ROWS_PROCESSED_TOTAL                               NUMBER
 ROWS_PROCESSED_DELTA                               NUMBER
 CPU_TIME_TOTAL                                     NUMBER
 CPU_TIME_DELTA                                     NUMBER
 ELAPSED_TIME_TOTAL                                 NUMBER
 ELAPSED_TIME_DELTA                                 NUMBER
 IOWAIT_TOTAL                                       NUMBER
 IOWAIT_DELTA                                       NUMBER
 CLWAIT_TOTAL                                       NUMBER
 CLWAIT_DELTA                                       NUMBER
 APWAIT_TOTAL                                       NUMBER
 APWAIT_DELTA                                       NUMBER
 CCWAIT_TOTAL                                       NUMBER
 CCWAIT_DELTA                                       NUMBER
 DIRECT_WRITES_TOTAL                                NUMBER
 DIRECT_WRITES_DELTA                                NUMBER
 PLSEXEC_TIME_TOTAL                                 NUMBER
 PLSEXEC_TIME_DELTA                                 NUMBER
 JAVEXEC_TIME_TOTAL                                 NUMBER
 JAVEXEC_TIME_DELTA                                 NUMBER
 IO_OFFLOAD_ELIG_BYTES_TOTAL                        NUMBER
 IO_OFFLOAD_ELIG_BYTES_DELTA                        NUMBER
 IO_INTERCONNECT_BYTES_TOTAL                        NUMBER
 IO_INTERCONNECT_BYTES_DELTA                        NUMBER
 PHYSICAL_READ_REQUESTS_TOTAL                       NUMBER
 PHYSICAL_READ_REQUESTS_DELTA                       NUMBER
 PHYSICAL_READ_BYTES_TOTAL                          NUMBER
 PHYSICAL_READ_BYTES_DELTA                          NUMBER
 PHYSICAL_WRITE_REQUESTS_TOTAL                      NUMBER
 PHYSICAL_WRITE_REQUESTS_DELTA                      NUMBER
 PHYSICAL_WRITE_BYTES_TOTAL                         NUMBER
 PHYSICAL_WRITE_BYTES_DELTA                         NUMBER
 OPTIMIZED_PHYSICAL_READS_TOTAL                     NUMBER
 OPTIMIZED_PHYSICAL_READS_DELTA                     NUMBER
 CELL_UNCOMPRESSED_BYTES_TOTAL                      NUMBER
 CELL_UNCOMPRESSED_BYTES_DELTA                      NUMBER
 IO_OFFLOAD_RETURN_BYTES_TOTAL                      NUMBER
 IO_OFFLOAD_RETURN_BYTES_DELTA                      NUMBER
 BIND_DATA                                          RAW(2000)
 FLAG                                               NUMBER
 CON_DBID                                           NUMBER
 CON_ID                                             NUMBER

WITH
per_phv AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 3d.339 */
       h.dbid,
       h.sql_id,
       h.plan_hash_value,
       MIN(s.begin_interval_time) min_time,
       MAX(s.end_interval_time) max_time,
       MEDIAN(h.elapsed_time_total / h.executions_total) med_time_per_exec,
       STDDEV(h.elapsed_time_total / h.executions_total) std_time_per_exec,
       AVG(h.elapsed_time_total / h.executions_total)    avg_time_per_exec,
       MIN(h.elapsed_time_total / h.executions_total)    min_time_per_exec,
       MAX(h.elapsed_time_total / h.executions_total)    max_time_per_exec,
       STDDEV(h.elapsed_time_total / h.executions_total) / AVG(h.elapsed_time_total / h.executions_total) std_dev,
       MAX(h.executions_total) executions_total,
       MEDIAN(h.elapsed_time_total / h.executions_total) * MAX(h.executions_total) total_elapsed_time
  FROM dba_hist_sqlstat h,
       dba_hist_snapshot s
 WHERE h.snap_id BETWEEN 3473 AND 4962
   AND h.dbid = 2109323688
   AND h.executions_total &gt; 1
   AND h.plan_hash_value &gt; 0
   AND s.snap_id = h.snap_id
   AND s.dbid = h.dbid
   AND s.instance_number = h.instance_number
   AND CAST(s.end_interval_time AS DATE) &gt; SYSDATE - 31
 GROUP BY
       h.dbid,
       h.sql_id,
       h.plan_hash_value
),
ranked1 AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 3d.339 */
       RANK () OVER (ORDER BY STDDEV(med_time_per_exec)/AVG(med_time_per_exec) DESC) rank_num1,
       dbid,
       sql_id,
       COUNT(*) plans,
       SUM(total_elapsed_time) total_elapsed_time,
       MIN(med_time_per_exec) min_med_time_per_exec,
       MAX(med_time_per_exec) max_med_time_per_exec
  FROM per_phv
 GROUP BY
       dbid,
       sql_id
HAVING COUNT(*) &gt; 1
),
ranked2 AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 3d.339 */
       RANK () OVER (ORDER BY r.total_elapsed_time DESC) rank_num2,
       r.rank_num1,
       r.sql_id,
       r.plans,
       p.plan_hash_value,
       TO_CHAR(CAST(p.min_time AS DATE), 'YYYY-MM-DD/HH24') min_time,
       TO_CHAR(CAST(p.max_time AS DATE), 'YYYY-MM-DD/HH24') max_time,
       ROUND(p.med_time_per_exec / 1e6, 3) med_secs_per_exec,
       p.executions_total executions,
       ROUND(p.med_time_per_exec * p.executions_total / 1e6, 3) aprox_tot_secs,
       ROUND(p.std_time_per_exec / 1e6, 3) std_secs_per_exec,
       ROUND(p.avg_time_per_exec / 1e6, 3) avg_secs_per_exec,
       ROUND(p.min_time_per_exec / 1e6, 3) min_secs_per_exec,
       ROUND(p.max_time_per_exec / 1e6, 3) max_secs_per_exec,
       REPLACE(DBMS_LOB.SUBSTR(s.sql_text, 1000), CHR(10)) sql_text
  FROM ranked1 r,
       per_phv p,
       dba_hist_sqltext s
 WHERE r.rank_num1 &lt;= 20 * 5
   AND p.dbid = r.dbid
   AND p.sql_id = r.sql_id
   AND s.dbid(+) = r.dbid AND s.sql_id(+) = r.sql_id
)
SELECT /*+  NO_MERGE  */ /* 3d.339 */
       r.sql_id,
       r.plans,
       r.plan_hash_value,
       r.min_time,
       r.max_time,
       r.med_secs_per_exec,
       r.executions,
       r.aprox_tot_secs,
       r.std_secs_per_exec,
       r.avg_secs_per_exec,
       r.min_secs_per_exec,
       r.max_secs_per_exec,
       r.sql_text
  FROM ranked2 r
 WHERE rank_num2 &lt;= 20
 ORDER BY
       r.rank_num2,
       r.sql_id,
       r.min_time,
       r.plan_hash_value;

20 rows selected.
</pre>

<br />
<font class="f">edb360 (c) 2019. Version v192 (2019-03-23). Timestamp: 2020-11-06T11:48:24  </font>
</body>
</html>
